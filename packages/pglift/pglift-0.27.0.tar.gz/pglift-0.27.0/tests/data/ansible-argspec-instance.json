{
  "auth": {
    "description": [
      "auth"
    ],
    "options": {
      "host": {
        "choices": [
          "trust",
          "reject",
          "md5",
          "password",
          "scram-sha-256",
          "gss",
          "sspi",
          "ident",
          "pam",
          "ldap",
          "radius",
          "cert"
        ],
        "description": [
          "Authentication method for local TCP/IP connections"
        ]
      },
      "local": {
        "choices": [
          "trust",
          "reject",
          "md5",
          "password",
          "scram-sha-256",
          "gss",
          "sspi",
          "ident",
          "peer",
          "pam",
          "ldap",
          "radius",
          "cert"
        ],
        "description": [
          "Authentication method for local-socket connections"
        ]
      }
    },
    "type": "dict"
  },
  "data_checksums": {
    "description": [
      "Enable or disable data checksums",
      "If unspecified, fall back to site settings choice"
    ],
    "type": "bool"
  },
  "databases": {
    "default": [],
    "description": [
      "Databases"
    ],
    "elements": "dict",
    "options": {
      "clone_from": {
        "description": [
          "Data source name of the database to clone into this one, specified as a libpq connection URI"
        ],
        "type": "str"
      },
      "extensions": {
        "default": [],
        "description": [
          "List of extensions to create in the database"
        ],
        "elements": "str",
        "type": "list"
      },
      "name": {
        "description": [
          "Database name"
        ],
        "required": true,
        "type": "str"
      },
      "owner": {
        "description": [
          "The role name of the user who will own the database"
        ],
        "type": "str"
      },
      "settings": {
        "description": [
          "Session defaults for run-time configuration variables for the database",
          "Upon update, an empty (dict) value would reset all settings"
        ],
        "required": false,
        "type": "dict"
      },
      "state": {
        "choices": [
          "present",
          "absent"
        ],
        "default": "present",
        "description": [
          "Database state"
        ]
      }
    },
    "type": "list"
  },
  "encoding": {
    "description": [
      "Character encoding of the PostgreSQL instance"
    ],
    "type": "str"
  },
  "extensions": {
    "default": [],
    "description": [
      "List of extensions to install in the instance"
    ],
    "elements": "str",
    "type": "list"
  },
  "locale": {
    "description": [
      "Default locale"
    ],
    "type": "str"
  },
  "name": {
    "description": [
      "Instance name"
    ],
    "required": true,
    "type": "str"
  },
  "pgbackrest": {
    "default": {
      "stanza": null
    },
    "description": [
      "Configuration for the pgbackrest service"
    ],
    "options": {
      "password": {
        "description": [
          "Password of PostgreSQL role for pgBackRest"
        ],
        "no_log": true,
        "type": "str"
      },
      "restore": {
        "description": [
          "restore"
        ],
        "options": {
          "stanza": {
            "description": [
              "pgBackRest stanza of the primary instance to restore from"
            ],
            "required": true,
            "type": "str"
          }
        },
        "type": "dict"
      },
      "stanza": {
        "description": [
          "Name of pgBackRest stanza",
          "Something describing the actual function of the instance, such as 'app'"
        ],
        "type": "str"
      }
    },
    "type": "dict"
  },
  "port": {
    "default": 5432,
    "description": [
      "TCP port the postgresql instance will be listening to",
      "If unspecified, default to 5432 unless a 'port' setting is found in 'settings'"
    ],
    "type": "int"
  },
  "powa": {
    "default": {},
    "description": [
      "Configuration for the powa service"
    ],
    "options": {
      "password": {
        "description": [
          "Password of PostgreSQL role for PoWA"
        ],
        "no_log": true,
        "type": "str"
      }
    },
    "type": "dict"
  },
  "prometheus": {
    "default": {
      "port": 9187
    },
    "description": [
      "Configuration for the prometheus service"
    ],
    "options": {
      "password": {
        "description": [
          "Password of PostgreSQL role for Prometheus postgres_exporter"
        ],
        "no_log": true,
        "type": "str"
      },
      "port": {
        "default": 9187,
        "description": [
          "TCP port for the web interface and telemetry of Prometheus"
        ],
        "type": "int"
      }
    },
    "type": "dict"
  },
  "replrole_password": {
    "description": [
      "Replication role password"
    ],
    "no_log": true,
    "type": "str"
  },
  "restart_on_changes": {
    "default": false,
    "description": [
      "Whether or not to automatically restart the instance to account for settings changes"
    ],
    "type": "bool"
  },
  "roles": {
    "default": [],
    "description": [
      "Roles"
    ],
    "elements": "dict",
    "options": {
      "connection_limit": {
        "description": [
          "How many concurrent connections the role can make"
        ],
        "type": "int"
      },
      "drop_owned": {
        "default": false,
        "description": [
          "Drop all PostgreSQL's objects owned by the role being dropped"
        ],
        "type": "bool"
      },
      "in_roles": {
        "default": [],
        "description": [
          "List of roles to which the new role will be added as a new member"
        ],
        "elements": "str",
        "type": "list"
      },
      "inherit": {
        "default": true,
        "description": [
          "Let the role inherit the privileges of the roles it is a member of"
        ],
        "type": "bool"
      },
      "login": {
        "default": false,
        "description": [
          "Allow the role to log in"
        ],
        "type": "bool"
      },
      "name": {
        "description": [
          "Role name"
        ],
        "required": true,
        "type": "str"
      },
      "password": {
        "description": [
          "Role password"
        ],
        "no_log": true,
        "type": "str"
      },
      "pgpass": {
        "default": false,
        "description": [
          "Add an entry in password file for this role"
        ],
        "type": "bool"
      },
      "reassign_owned": {
        "description": [
          "Reassign all PostgreSQL's objects owned by the role being dropped to the specified role name"
        ],
        "type": "str"
      },
      "replication": {
        "default": false,
        "description": [
          "Replication role"
        ],
        "type": "bool"
      },
      "state": {
        "choices": [
          "present",
          "absent"
        ],
        "default": "present",
        "description": [
          "Role state"
        ]
      },
      "superuser": {
        "default": false,
        "description": [
          "Superuser role"
        ],
        "type": "bool"
      },
      "validity": {
        "description": [
          "Sets a date and time after which the role's password is no longer valid"
        ],
        "type": "str"
      }
    },
    "type": "list"
  },
  "settings": {
    "default": {},
    "description": [
      "Settings for the PostgreSQL instance"
    ],
    "type": "dict"
  },
  "standby": {
    "description": [
      "standby"
    ],
    "options": {
      "password": {
        "description": [
          "Password for the replication user"
        ],
        "no_log": true,
        "type": "str"
      },
      "primary_conninfo": {
        "description": [
          "DSN of primary for streaming replication"
        ],
        "required": true,
        "type": "str"
      },
      "slot": {
        "description": [
          "Replication slot name",
          "Must exist on primary"
        ],
        "type": "str"
      },
      "status": {
        "choices": [
          "demoted",
          "promoted"
        ],
        "default": "demoted",
        "description": [
          "Instance standby state"
        ]
      }
    },
    "type": "dict"
  },
  "state": {
    "choices": [
      "stopped",
      "started",
      "absent",
      "restarted"
    ],
    "default": "started",
    "description": [
      "Runtime state"
    ]
  },
  "surole_password": {
    "description": [
      "Super-user role password"
    ],
    "no_log": true,
    "type": "str"
  },
  "temboard": {
    "default": {
      "port": 2345
    },
    "description": [
      "Configuration for the temboard service"
    ],
    "options": {
      "password": {
        "description": [
          "Password of PostgreSQL role for temboard agent"
        ],
        "no_log": true,
        "type": "str"
      },
      "port": {
        "default": 2345,
        "description": [
          "TCP port for the temboard-agent API"
        ],
        "type": "int"
      }
    },
    "type": "dict"
  },
  "version": {
    "choices": [
      "14",
      "13",
      "12",
      "11"
    ],
    "description": [
      "PostgreSQL version"
    ]
  }
}
