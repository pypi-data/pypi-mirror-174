Metadata-Version: 2.1
Name: yourtools
Version: 0.2.1
Summary: Python helper tools
Home-page: https://pypi.org/project/yourtools/
Author: zfang
Author-email: founder517518@163.com
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Python: >=3.6
Description-Content-Type: text/markdown
Requires-Dist: aniso8601 (==9.0.1bcrypt==4.0.1certifi==2022.9.24cffi==1.15.1chardet==3.0.4cheroot==8.6.0click==8.1.3configtools==0.3.3cryptography==37.0.2DBUtils==1.3distlib==0.3.6filelock==3.8.0Flask==1.1.2Flask-Cors==3.0.10Flask-RESTful==0.3.8gunicorn==20.0.4idna==2.10itsdangerous==1.1.0jaraco.functools==3.0.1Jinja2==2.11.2logconfig==0.4.0logutils==0.3.5MarkupSafe==1.1.1more-itertools==8.6.0paramiko==2.11.0platformdirs==2.5.2psutil==5.9.1pycparser==2.21PyMySQL==0.10.1PyNaCl==1.5.0pytz==2020.4PyYAML==5.3.1redis==3.5.3requests==2.25.0simplejson==3.17.2six==1.15.0sshtunnel==0.4.0urllib3==1.26.2virtualenv==20.16.5web.py==0.62Werkzeug==1.0.1)

# Python tools

## Installation
```shell
pip3 uninstall yourtools
pip3 install yourtools
```

## Table of Contents

- WeChat
  - send_msg 发送应用消息
  - upload_media 上传临时素材文件到企微，并返回media_id
- MySQL
  - query 执行普通查询SQL
  - execute 执行DML SQL
- Hive
  - query
  - exec_ddl_sql

## Example

### 1、MySQL

```python
from yourtools import MySQL

def test_mysql():
    dbconfg = {
        'host': '172.0.0.1',
        'port': 3306,
        'username': 'root',
        'password': '123456',
        'db': 'test',
        'charset': 'utf8'
    }
    mysql = MySQL(dbconfg)
    # query data
    result = mysql.query("select * from users")
    print(result)
    # dml sql 
    result = mysql.execute("insert into users(name,birthday,ts) values('灭霸2','2022-11-01 16:00:00','2022-11-01 16:00:00') ")
```

### 2、Hive
```python
from yourtools import Hive

hive_connection = {
    'host': '127.0.0.1',
    'port': 10000,
    'db': 'ods',
    'username': '',
    'auth': 'NOSASL'
}
hive = Hive(hive_connection)
hive_sql="""
select * from ods.ods_user
"""
rows = hive.query(hive_sql)
print(rows)

```

### 3、WeChat
```python
from yourtools import WeChat

# WeChat(corpid，Secret，AgentId)
qw = WeChat("asdg234234", "OINFSokasdIOKflsafdaOOKFD", 1000000)
data = {
    "touser": "198297694527839423",
    "toparty": "",
    "totag": "",
    "msgtype": "text",
    "agentid": 1000000,
    "text": {
        "content": "你的快递已到，请携带工卡前往邮件中心领取。\n出发前可查看<a href=\"http://work.weixin.qq.com\">邮件中心视频实况</a>，聪明避开排队。"
    },
    "safe": 0,
    "enable_id_trans": 0,
    "enable_duplicate_check": 0,
    "duplicate_check_interval": 1800
}
send_statu = qw.send_msg(data)
print(send_statu)
```
