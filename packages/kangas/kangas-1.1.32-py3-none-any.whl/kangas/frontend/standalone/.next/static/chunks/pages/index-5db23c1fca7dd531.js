(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9641:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9204)}])},9204:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return s},__next_rsc__:function(){return r},default:function(){return i}}),Promise.resolve().then(t.bind(t,3340)),Promise.resolve().then(t.bind(t,9025)),Promise.resolve().then(t.bind(t,3930)),Promise.resolve().then(t.bind(t,4980)),Promise.resolve().then(t.bind(t,5029)),Promise.resolve().then(t.bind(t,4186)),Promise.resolve().then(t.bind(t,9933)),Promise.resolve().then(t.bind(t,7259)),Promise.resolve().then(t.bind(t,3682)),Promise.resolve().then(t.bind(t,4731)),Promise.resolve().then(t.bind(t,8087)),Promise.resolve().then(t.t.bind(t,5675,23)),Promise.resolve().then(t.bind(t,4665)),Promise.resolve().then(t.bind(t,1918)),Promise.resolve().then(t.bind(t,7926)),Promise.resolve().then(t.bind(t,7432)),Promise.resolve().then(t.bind(t,4661)),Promise.resolve().then(t.bind(t,1925));const r={server:!1,__webpack_require__:t};function i(){}const s=!0},4731:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(7171),s=t(9628);n.default=function(e){var n=e.value;return null===n?(0,r.jsx)(r.Fragment,{children:"None"}):1===n?(0,r.jsx)(i.Z,{}):(0,r.jsx)(s.Z,{})}},1925:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(5152),s=t.n(i),a=t(7294),o=t(1663),l=t(1626),c=s()((function(){return Promise.all([t.e(960),t.e(660)]).then(t.bind(t,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1});n.default=function(e){var n=e.value,t=(0,a.useState)(null),i=t[0],s=(t[1],(0,l.Z)(n)),u=(0,a.useMemo)((function(){if(null===s||void 0===s?void 0:s.values)return Object.keys(s.values).sort().reduce((function(e,n){return e[n]=s.values[n],e}),{})}),[s]),d=(0,a.useMemo)((function(){if(u)return[{type:"bar",orientation:"h",x:Object.values(u),y:Object.keys(u),text:Object.keys(u).map((function(e){return"".concat(s.column,": ").concat(e," ").concat(s.message||"")})),marker:{color:Object.keys(u).map(o.Lq)}}]}),[u]),h=(0,a.useMemo)((function(){return{paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",autosize:!0,bargap:.1,margin:{l:0,r:0,b:0,t:0,pad:0},showlegend:!1,xaxis:{visible:!0,showticklabels:!0},yaxis:{visible:!0,showticklabels:!0,type:"category"}}}),[i]);return"verbatim"===(null===s||void 0===s?void 0:s.type)?(0,r.jsx)("div",{className:"cell-verbatim",children:s.value}):(0,r.jsx)(c,{style:{height:"100%",width:"100%",maxHeight:"110px"},data:d,layout:h,config:{displayModeBar:!1}})}},4661:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(5152),s=t.n(i),a=t(7294),o=t(1663),l=t(1626),c=(t(3682),s()((function(){return Promise.all([t.e(960),t.e(660)]).then(t.bind(t,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1}));n.default=function(e){var n=e.value,t=(0,a.useState)(null),i=(t[0],t[1]),s=(0,l.Z)(n);(0,a.useLayoutEffect)((function(){var e=window.visualViewport;(null===e||void 0===e?void 0:e.width)&&(null===e||void 0===e?void 0:e.height)&&i({height:e.height,width:e.width})}),[]);var u=(0,a.useMemo)((function(){if(null===s||void 0===s?void 0:s.values)return Object.keys(s.values).sort().reduce((function(e,n){return e[n]=s.values[n],e}),{})}),[s]),d=(0,a.useMemo)((function(){if(u)return[{type:"bar",orientation:"h",x:Object.values(u),y:Object.keys(u),text:Object.keys(u).map((function(e){return"".concat(s.column,": ").concat(e," ").concat(s.message||"")})),marker:{color:Object.keys(u).map(o.Lq)}}]}),[u]),h=(0,a.useMemo)((function(){return{autosize:!0,title:"".concat(null===n||void 0===n?void 0:n.columnName),font:{family:"Roboto",size:22,color:"#191A1C"},xaxis:{font:{size:13,color:"#3D4355"}},yaxis:{type:"category"}}}),[n]);return"verbatim"===(null===s||void 0===s?void 0:s.type)?(0,r.jsx)("div",{className:"cell-verbatim-expanded",children:s.value}):(0,r.jsx)("div",{style:{minWidth:"500px"},children:(0,r.jsx)(c,{style:{height:"100%",width:"100%"},data:d,layout:h,config:{displayModeBar:!1}})})}},3682:function(e,n,t){"use strict";t.r(n),t.d(n,{ConfigContext:function(){return s}});var r=t(5893),i=t(7294),s=(0,i.createContext)({apiUrl:null,otherUrl:null,isColab:!1,isIframe:!1});n.default=function(e){var n=e.apiUrl,t=e.otherUrl,a=e.isColab,o=e.children,l=(0,i.useState)(!1),c=l[0],u=l[1];return(0,i.useEffect)((function(){var e;(u(window!==window.parent),window!==window.parent)&&(null===(e=document.getElementById("matrix-select-pulldown"))||void 0===e||e.setAttribute("style","display: none"))}),[]),(0,r.jsx)(s.Provider,{value:{apiUrl:n,otherUrl:t,isColab:a,isIframe:c},children:o})}},8087:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(5152),s=t.n(i),a=(t(7294),s()((function(){return Promise.all([t.e(960),t.e(660)]).then(t.bind(t,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1}));n.default=function(e){var n=e.chartData,t=e.layout;return(0,r.jsx)(a,{data:n,layout:t,config:{displayModeBar:!1}})}},7259:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(4980);n.default=function(e){var n=e.children;return(0,r.jsx)("div",{className:"expand-overlay",children:(0,r.jsx)(i.default,{children:n})})}},7926:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(5152),s=t.n(i),a=t(7294),o=t(1763),l=t(1663),c=t(3682),u=t(6024),d=s()((function(){return Promise.all([t.e(960),t.e(660)]).then(t.bind(t,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1});n.default=function(e){var n=e.value,t=(e.dgid,(0,a.useContext)(c.ConfigContext),(0,u.Z)(n)),i=(0,a.useMemo)((function(){var e;return t?[{type:"bar",x:"DATETIME"===t.columnType?t.labels.map((function(e){return(0,o.Z)(e,"DATETIME")})):t.labels,y:t.bins,text:null===t||void 0===t||null===(e=t.labels)||void 0===e?void 0:e.map((function(e){return"".concat(t.column,": ").concat((0,o.Z)(e,t.columnType)," ").concat(t.message||"")})),marker:{color:(0,l.Lq)(t.column)}}]:null}),[t]),s=(0,a.useMemo)((function(){return{paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",autosize:!0,bargap:.1,margin:{l:0,r:0,b:0,t:0,pad:0},showlegend:!1,xaxis:{visible:!0,showticklabels:!0},yaxis:{visible:!0,showticklabels:!0}}}),[]),h=(0,a.useMemo)((function(){return{displayModeBar:!1}}));return"verbatim"===(null===t||void 0===t?void 0:t.type)?(0,r.jsx)("div",{className:"cell-verbatim",children:t.value}):(0,r.jsx)(d,{style:{height:"100%",width:"100%",maxHeight:"110px"},data:i,layout:s,config:h})}},7432:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(5152),s=t.n(i),a=t(7294),o=t(1763),l=t(2825),c=t(1663),u=t(3682),d=t(6024),h=s()((function(){return Promise.all([t.e(960),t.e(660)]).then(t.bind(t,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1});n.default=function(e){var n=e.value,t=(e.dgid,(0,a.useContext)(u.ConfigContext)),i=(0,d.Z)(n),s=(0,a.useMemo)((function(){var e;return i?[{type:"bar",x:"DATETIME"===i.columnType?i.labels.map((function(e){return(0,o.Z)(e,"DATETIME")})):i.labels,y:i.bins,text:null===i||void 0===i||null===(e=i.labels)||void 0===e?void 0:e.map((function(e){return"".concat(i.column,": ").concat((0,o.Z)(e,i.columnType)," ").concat(i.message||"")})),marker:{color:(0,c.Lq)(i.column)}}]:null}),[i]),f=(0,a.useMemo)((function(){return(null===i||void 0===i?void 0:i.statistics)?(e=i.statistics)?(0,r.jsx)("div",{style:{margin:"auto",marginLeft:"inherit"},children:Object.keys(e).map((function(n,i){return(0,r.jsxs)("ul",{style:{paddingLeft:"0"},children:[(0,r.jsx)("b",{children:n})," :"," ",(0,l.Z)(e[n],3).toLocaleString(t.locale)]})}))}):(0,r.jsx)("div",{}):(0,r.jsx)("div",{});var e}),[i]),v=(0,a.useMemo)((function(){return{autosize:!0,title:"".concat(null===i||void 0===i?void 0:i.column),font:{family:"Roboto",size:22,color:"#191A1C"},xaxis:{font:{size:13,color:"#3D4355"}},yaxis:{font:{size:13,color:"#3D4355"}}}}),[i]),m=(0,a.useMemo)((function(){return{displayModeBar:!1}}));return"verbatim"===(null===i||void 0===i?void 0:i.type)?(0,r.jsx)("div",{className:"cell-verbatim-expanded",children:i.value}):(0,r.jsxs)("div",{style:{minWidth:"600px",display:"flex"},children:[(0,r.jsx)(h,{style:{height:"100%",width:"75%"},data:s,layout:v,config:m}),f]})}},4665:function(e,n,t){"use strict";t.r(n),t.d(n,{CanvasContext:function(){return N},default:function(){return M}});var r=t(872),i=t(1799),s=t(9396),a=t(828),o=t(9815),l=t(5893),c=t(7294),u=t(7650),d=t(4697),h=t(1663),f=function(e){var n=e.label,t=e.hidden,r=e.addLabel,i=e.removeLabel,s=(0,c.useMemo)((function(){return t?"badge badge-label badge-disabled":"badge badge-label"}),[t]),a=(0,c.useMemo)((function(){return(0,h.Lq)(n)}),[n]),o=(0,c.useMemo)((function(){return(0,h.Qg)((0,h.Lq)(n))}),[n]),u=(0,c.useRef)(),d=(0,c.useCallback)((function(){r&&i&&(t?r(n):i(n))}),[t,n,r,i]);return(0,l.jsx)("div",{ref:u,className:s,style:{backgroundColor:a,color:o},onClick:d,children:"".concat(n)})},v=t(4980),m=t(8456),x=t(9534),g=t(3682),p=t(7632),j=function(e,n,t){var r=(0,c.useContext)(g.ConfigContext),i=r.isColab,s=r.apiUrl,a=(0,c.useState)(),o=a[0],l=a[1],u=(0,c.useRef)(!1),d=(0,c.useMemo)((function(){return(0,p.Z)()}),[]);return(0,c.useEffect)((function(){i&&!u.current&&d&&(window.addEventListener("message",(function(e){var n=e.data,t=n.messageType,r=n.targetId,i=(0,x.Z)(n,["messageType","targetId"]);"metadata"===t&&r===d&&l(i)}),!1),u.current=!0),i&&d?n&&e&&window.parent.postMessage({dgid:e,assetId:n,targetId:d,type:"metadata"},"*"):i||fetch("/api/metadata?".concat(new URLSearchParams({assetId:n,dgid:e,url:"".concat(s,"asset-metadata")}))).then((function(e){return e.json()})).then((function(e){return l(JSON.parse(e))}))}),[e,n,d,i]),t?JSON.parse(t):o},b=function(e){var n=(0,c.useContext)(g.ConfigContext),t=n.isColab,r=(n.apiUrl,(0,c.useState)()),i=r[0],s=r[1],a=(0,c.useRef)(!1),o=(0,c.useMemo)((function(){return(0,p.Z)()}),[]),l=(0,c.useMemo)((function(){var n=new URL(e).searchParams;return{dgid:n.get("dgid"),assetId:n.get("assetId")}}),[e]),u=l.dgid,d=l.assetId;return(0,c.useEffect)((function(){t&&!a.current&&o&&(window.addEventListener("message",(function(e){var n=e.data,t=n.messageType,r=n.targetId,i=(0,x.Z)(n,["messageType","targetId"]);"asset"===t&&r===o&&s("data:image/png;base64,".concat(i.src))}),!1),a.current=!0),t?d&&u&&o&&window.parent.postMessage({dgid:u,assetId:d,targetId:o,type:"asset"},"*"):s(e)}),[e,d,u,t,o]),i},y=function(e){var n=e.url,t=e.drawImage,r=e.dgid,i=e.scoreBound,s=e.ref,a=(0,c.useRef)(),o=(0,c.useRef)(),u=(0,c.useState)([]),d=u[0],h=u[1],f=(0,c.useMemo)((function(){return new URL(n).searchParams.get("assetId")}),[n]),v=j(r,f),m=b(n);(0,c.useEffect)((function(){var e;if(i&&(null===v||void 0===v?void 0:v.overlays)){var n=null===v||void 0===v||null===(e=v.overlays)||void 0===e?void 0:e.filter((function(e){return(null===e||void 0===e?void 0:e.score)<i}));h(n.map((function(e){return e.label})))}}),[v,i]);var x=(0,c.useCallback)((function(){a&&o&&v&&t(a,o,v,d)}),[t,v,d]);return(0,c.useEffect)((function(){x()}),[x]),(0,l.jsxs)("div",{className:"canvas-container",ref:s,children:[(0,l.jsx)("canvas",{ref:a,className:"image-canvas"}),(0,l.jsx)("img",{ref:o,src:m,crossOrigin:"Anonymous",style:{display:"none"},onLoad:x,alt:"DataGrid Image"})]})},w=function(e){var n=e.url,t=e.drawImage,r=e.dgid,i=e.scoreBound,s=(0,u.YD)({threshold:0,rootMargin:"1000px",triggerOnce:!0}),a=s.ref,o=s.inView,d=(s.entry,(0,c.useRef)());return(0,l.jsxs)("div",{ref:a,children:[o&&(0,l.jsx)("div",{ref:d,children:(0,l.jsx)(y,{url:n,drawImage:t,dgid:r,scoreBound:i})}),!o&&(0,l.jsx)(m.Z,{})]})},N=(0,c.createContext)(),C=function(e){var n=e.urls,t=e.url,r=(e.isMulti,e.strValue),i=e.drawImage,s=e.assetId,a=e.dgid,o=e.filterLabels,h=e.scoreBound,f=(0,u.YD)({threshold:0,rootMargin:"10000px"}),m=f.ref,x=f.inView,g=(f.entry,(0,d.y1)((function(){b(Math.min(j+100,null===n||void 0===n?void 0:n.length))}),250));(0,c.useEffect)((function(){x&&g()}),[x,g]);var p=(0,c.useState)(100),j=p[0],b=p[1];return(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"image-title",children:r}),n?(0,l.jsxs)("div",{className:"canvas-grid",children:[n.slice(0,j).map((function(e,n){return(0,l.jsx)(v.default,{tabIndex:n,toggleElement:(0,l.jsx)(w,{url:e,drawImage:i,dgid:a,filterLabels:o,scoreBound:h,index:n}),children:(0,l.jsx)(k,{url:e,dgid:a,assetId:new URL(e).searchParams.get("assetId")})},e)})),(0,l.jsx)("div",{style:{width:"100%"},ref:m})]}):(0,l.jsx)(y,{url:t,drawImage:i,assetId:s,dgid:a,scoreBound:h})]})};var S=function(e){var n=e.label,t=e.children,r=(0,c.useState)(!1),i=r[0],s=r[1],a=(0,c.useCallback)((function(){s(!i)}),[i]);return(0,l.jsxs)("div",{className:"accordion",children:[(0,l.jsxs)("div",{className:"accordion-label",onClick:a,children:[(0,l.jsx)("div",{className:"arrow"}),n]}),(0,l.jsx)("div",{className:"accordion-content ".concat(i?"active":""),children:t})]})},k=function(e){var n=e.url,t=e.inheritedMetadata,u=e.dgid,d=e.assetId,v=e.urls,m=j(u,d,t),x=(0,c.useState)()[0],g=(0,c.useState)(!0),p=g[0],b=g[1],y=(0,c.useState)(!1),w=y[0],N=y[1],k=(0,c.useState)(!1)[0],M=(0,c.useState)(1)[0],Z=(0,c.useState)(1)[0],I=(0,c.useState)({min:0,max:1}),P=I[0],O=I[1],E=(0,c.useState)(),T=E[0],L=E[1],R=(0,c.useState)(new Set),A=R[0],D=R[1],_=(0,c.useState)(1),q=_[0],z=_[1],V=(0,c.useMemo)((function(){return!!(null===v||void 0===v?void 0:v.length)}),[v]),B=(0,c.useRef)(),F=(0,c.useCallback)((function(e){b(!e.target.checked)}),[]),H=(0,c.useCallback)((function(e){N(e.target.checked)}),[]),U=(0,c.useCallback)((function(e){z(e.target.value)}),[]),G=(0,c.useCallback)((function(e){L(e.target.value)}),[]);(0,c.useEffect)((function(){B.current.min=P.min,B.current.max=P.max}),[P]);var Y=(0,c.useCallback)((function(e){var n=new Set(A);null===e||void 0===e||e.forEach((function(e){n.has(e)||n.add(e)})),D(n)}),[A]),K=(0,c.useCallback)((function(e,n,t,r){if(t){var o=e.current.getContext("2d"),l=function(e,n,t,r){return t>r?t<e?Math.max(t/e,e/t):Math.min(t/e,e/t):r<n?Math.max(r/n,n/r):Math.min(r/n,n/r)}(400*q,400*q,n.current.naturalWidth,n.current.naturalHeight);if(e.current.width=n.current.naturalWidth*l,e.current.height=n.current.naturalHeight*l,o.clearRect(0,0,e.current.width,e.current.height),o.globalAlpha=M,x&&(o.drawImage(x,0,0,n.current.width*l,n.current.height*l),o.globalCompositeOperation="source-in"),o.imageSmoothingEnabled=p,o.drawImage(n.current,0,0,n.current.width*l,n.current.height*l),w){for(var c=o.getImageData(0,0,e.current.width,e.current.height),u=c.data,d=0;d<u.length;d+=4){var f=(u[d]+u[d+1]+u[d+2])/3;u[d]=f,u[d+1]=f,u[d+2]=f}o.putImageData(c,0,0)}if(k){for(var v=o.getImageData(0,0,e.current.width,e.current.height),m=v.data,g=0;g<m.length;g+=4)m[g]=255-m[g],m[g+1]=255-m[g+1],m[g+2]=255-m[g+2];o.putImageData(v,0,0)}if(null===t||void 0===t?void 0:t.overlays){o.globalAlpha=Z;for(var j=0;j<(null===t||void 0===t?void 0:t.overlays.length);j++){var b,y;if(!r.includes(null===(b=t.overlays[j])||void 0===b?void 0:b.label)){if(null===(y=t.overlays[j])||void 0===y?void 0:y.score){var N=t.overlays[j].score;P.min>N&&O((0,s.Z)((0,i.Z)({},P),{min:N})),P.max<N&&O((0,s.Z)((0,i.Z)({},P),{max:N})),!V&&T>N&&W(t.overlays[j].label)}if("regions"===(null===t||void 0===t?void 0:t.overlays[j].type)){var C=null===t||void 0===t?void 0:t.overlays[j].data;if(!A.has(null===t||void 0===t?void 0:t.overlays[j].label))for(var S=0;S<C.length;S++){var I=C[S];o.fillStyle=(0,h.Lq)(null===t||void 0===t?void 0:t.overlays[j].label),o.beginPath(),o.moveTo(I[0]*l,I[1]*l);for(var E=2;E<I.length;E+=2)o.lineTo(I[E]*l,I[E+1]*l);o.closePath(),o.fill()}}else if("boxes"===(null===t||void 0===t?void 0:t.overlays[j].type)){var L=null===t||void 0===t?void 0:t.overlays[j].data;if(!A.has(null===t||void 0===t?void 0:t.overlays[j].label))for(var R=0;R<L.length;R++){var D=(0,a.Z)(L[R],2),_=(0,a.Z)(D[0],2),z=_[0],B=_[1],F=(0,a.Z)(D[1],2),H=F[0],U=F[1];o.strokeStyle=(0,h.Lq)(null===t||void 0===t?void 0:t.overlays[j].label),o.lineWidth=3,o.beginPath(),o.moveTo(z*l,B*l),o.lineTo(H*l,B*l),o.lineTo(H*l,U*l),o.lineTo(z*l,U*l),o.closePath(),o.stroke()}}else null===t||void 0===t||t.overlays[j].type}}}}}),[x,w,k,q,A,p,W,T,400,400,M,V,Z,P]),J=(0,c.useCallback)((function(e){var n=new Set(A);n.has(e)&&n.delete(e),D(n)}),[A]),W=(0,c.useCallback)((function(e){var n=new Set(A);n.has(e)||n.add(e),D(n)}),[A]),X=(0,c.useMemo)((function(){return(null===m||void 0===m?void 0:m.labels)?Array.isArray(null===m||void 0===m?void 0:m.labels)?null===m||void 0===m?void 0:m.labels.sort():Object.keys(null===m||void 0===m?void 0:m.labels).sort():null}),[m]),$=(0,c.useMemo)((function(){return(null===m||void 0===m?void 0:m.name)||(null===m||void 0===m?void 0:m.filename)||d}),[m,d]),Q=(0,c.useMemo)((function(){return!m||V?null:(null===m||void 0===m?void 0:m.overlays)?(0,r.Z)({},m):m}),[m,V]);return(0,c.useEffect)((function(){if((null===m||void 0===m?void 0:m.overlays)&&T){var e=new Set(A),n=!0,t=!1,r=void 0;try{for(var i,s=((null===m||void 0===m?void 0:m.overlays)||{})[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var a=i.value;(null===a||void 0===a?void 0:a.score)&&((null===a||void 0===a?void 0:a.score)<=T&&e.add(null===a||void 0===a?void 0:a.label),(null===a||void 0===a?void 0:a.score)>T&&e.has(null===a||void 0===a?void 0:a.label)&&e.delete(null===a||void 0===a?void 0:a.label))}}catch(l){t=!0,r=l}finally{try{n||null==s.return||s.return()}finally{if(t)throw r}}A.size===e.size&&(0,o.Z)(A).every((function(n){return e.has(n)}))||D(e)}}),[m,T,A]),(0,l.jsxs)("div",{className:"editor-container",children:[(0,l.jsxs)("div",{className:"left-column",children:[(0,l.jsxs)("div",{className:"image-controls",children:[(0,l.jsxs)("div",{className:"checkbox",children:[(0,l.jsx)("input",{type:"checkbox",className:"image-smoothing-checkbox",id:"image-smoothing",onChange:F}),(0,l.jsx)("label",{htmlFor:"image-smoothing",className:"checkbox-label",children:"Pixelated"})]}),(0,l.jsxs)("div",{className:"checkbox",children:[(0,l.jsx)("input",{type:"checkbox",className:"grayscale-checkbox",id:"grayscale",onChange:H}),(0,l.jsx)("label",{htmlFor:"grayscale",className:"checkbox-label",children:"Grayscale"})]}),!V&&(0,l.jsxs)("div",{className:"slider-container",children:[(0,l.jsx)("div",{className:"zoom-label",children:"Zoom:"}),(0,l.jsx)("input",{type:"range",min:"1",max:"5",defaultValue:"".concat(q),className:"zoom-slider",id:"zoom-slide",onChange:U,step:"0.01"})]})]}),Q&&(0,l.jsx)("div",{className:"metadata-control",children:(0,l.jsx)(S,{label:"Metadata",children:(0,l.jsx)("pre",{children:(0,l.jsx)("code",{children:JSON.stringify(Q,null,4)})})})}),(0,l.jsx)("div",{className:"score-control",children:(0,l.jsxs)("div",{className:"slider-container",children:[(0,l.jsx)("div",{className:"zoom-label",children:"Score:"}),(0,l.jsx)("input",{type:"range",ref:B,min:"0",max:"1",defaultValue:"0",className:"zoom-slider",id:"zoom-slide",step:"0.001",onChange:G})]})}),(0,l.jsx)("div",{className:"labels-container",children:!!X&&X.map((function(e){return(0,l.jsx)(f,{label:e,hidden:A.has(e),addLabel:J,removeLabel:W})}))})]}),(0,l.jsx)("div",{className:"right-column ".concat(V&&"multi-canvas"),children:(0,l.jsx)(C,{urls:v,url:n,dgid:u,assetId:d,isMulti:V,drawImage:K,filterLabels:Y,scoreBound:T,strValue:$})})]})},M=k},1918:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(7650);n.default=function(e){var n=e.children,t=(0,i.YD)({threshold:0,rootMargin:"1000px"}),s=t.ref,a=t.inView;t.entry;return(0,r.jsx)("div",{ref:s,children:a&&n})}},4980:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(7294),s=t(8262);n.default=function(e){var n=e.toggleElement,t=e.children,a=e.sx,o=e.tabIndex,l=e.fullScreen,c=void 0!==l&&l,u=(0,i.useState)(!1),d=u[0],h=u[1],f=(0,i.useCallback)((function(){return h(!d)}),[d]),v=(0,i.useCallback)((function(){d||h(!0)}),[d]);return n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{tabIndex:o,onClick:v,children:n}),(0,r.jsx)(s.Z,{open:d,fullScreen:c,onClose:f,sx:a,children:t})]}):(0,r.jsx)("div",{onClick:v,style:{height:"100%",width:"100%",opacity:"0",cursor:"pointer"},tabIndex:o,children:(0,r.jsx)(s.Z,{open:d,fullScreen:c,onClose:f,sx:a,children:t})})}},9933:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(5152),s=t.n(i)()((function(){return Promise.all([t.e(960),t.e(660)]).then(t.bind(t,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1});n.default=function(){return(0,r.jsx)("div",{style:{display:"none"},children:(0,r.jsx)(s,{data:[{x:[1,2,3],y:[2,6,3],type:"scatter",mode:"lines+markers",marker:{color:"red"}},{type:"bar",x:[1,2,3],y:[2,5,3]}],layout:{width:320,height:240,title:"A Fancy Plot"}})})}},5029:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return c}});var r=t(1799),i=t(9396),s=t(5893),a=t(7625),o=(t(7294),t(883)),l={dgid:null,limit:10,offset:0},c=function(e){var n=e.query,t=e.options,c=(0,a.unstable_useRefreshRoot)(),u={menuPortal:function(e){return(0,i.Z)((0,r.Z)({},e),{zIndex:9999})},menu:function(e){return(0,i.Z)((0,r.Z)({},e),{zIndex:9999})}};return(0,s.jsx)(o.default,{id:"matrix-select-pulldown",defaultValue:t.find((function(e){return e.value.endsWith(null===n||void 0===n?void 0:n.dgid)}))||"",options:t,styles:u,onChange:function(e){c({query:(0,i.Z)((0,r.Z)({},l),{dgid:e.value})})}})}},9025:function(e,n,t){"use strict";t.r(n);var r=t(1799),i=t(9396),s=t(5893),a=t(1838),o=t(7625),l=t(7294);n.default=function(e){var n=e.query,t=e.pagination,c=e.total,u=(0,o.unstable_useRefreshRoot)(),d=((0,l.useMemo)((function(){return Math.ceil(c/(null===n||void 0===n?void 0:n.limit))}),[c,null===n||void 0===n?void 0:n.limit]),(0,l.useRef)()),h=(0,l.useCallback)((function(e){var t=(e-1)*(null===n||void 0===n?void 0:n.limit);t<0||t===(null===n||void 0===n?void 0:n.offset)||e-1>=c/(null===n||void 0===n?void 0:n.limit)||u({query:(0,i.Z)((0,r.Z)({},n),{offset:t})})}),[n]),f=(0,l.useCallback)((function(e){if(13===(null===e||void 0===e?void 0:e.keyCode)||"Enter"===(null===e||void 0===e?void 0:e.code)){var n=parseInt(e.target.value);n&&h(n)}}),[h]),v=(0,l.useMemo)((function(){return(null===n||void 0===n?void 0:n.offset)?Math.ceil((null===n||void 0===n?void 0:n.offset)/(null===n||void 0===n?void 0:n.limit))+1:1}),[n]),m=(0,l.useCallback)((function(){h(v+1)}),[v,h]),x=(0,l.useCallback)((function(){h(v-1)}),[v,h]),g=(0,l.useMemo)((function(){if(!c)return"No matching rows";if(1===c)return"Showing 1 matching row";if((null===t||void 0===t?void 0:t.length)>1){var e=(((null===n||void 0===n?void 0:n.offset)||0)+1).toLocaleString(a.Z.locale),r=Math.min(((null===n||void 0===n?void 0:n.offset)||0)+(null===n||void 0===n?void 0:n.limit),c).toLocaleString(a.Z.locale);return"Showing ".concat(e," - ").concat(r," rows of ").concat(c.toLocaleString(a.Z.locale))}return"Showing all matching rows"}),[c,a.Z,n,t]);return(0,l.useEffect)((function(){(null===d||void 0===d?void 0:d.current)&&(d.current.value=v)}),[v]),(0,s.jsxs)("div",{className:"pagination",children:["".concat(g," "),t.length>1&&(0,s.jsxs)("div",{children:["Page:",(0,s.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return h(1)},children:" |< "}),(0,s.jsx)("span",{style:{cursor:"pointer"},onClick:x,children:"<"}),(0,s.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",onKeyDown:function(e){return f(e)},ref:d,defaultValue:v,style:{width:"50px",margin:"0 8px",textAlign:"center",fontSize:"12px",fontWeight:"500"}}),(0,s.jsx)("span",{style:{cursor:"pointer"},onClick:m,children:"> "}),(0,s.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return h(Math.ceil(c/(null===n||void 0===n?void 0:n.limit)))},children:">|"})]})]})}},3930:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(3707),s=t(9831);t(7294);n.default=function(e){var n=e.query,t=(0,s.useRefreshRoot)();return(0,r.jsx)(i.Z,{className:"cached-icon",onClick:function(){t({query:n,expiration:Date.now()})}})}},4186:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return D}});var r=t(5893),i=t(5152),s=t.n(i),a=t(4980),o=t(1799),l=t(9396),c=t(7625),u=t(4111),d=t(1438),h=t(2951),f=t(8029),v=t(9534),m=t(460),x=t(7294),g=t(5697),p=t.n(g),j=t(6496),b=t.n(j),y=t(5424),w=t.n(y),N=t(2349),C=function(e){var n=e.callback;return(0,r.jsxs)("div",{className:"button-outline",onClick:n,children:[(0,r.jsx)("img",{src:"/filter_placeholder.png"})," ",(0,r.jsx)("span",{children:"Filter"})]})},S={applyFilter:p().func,onKeyPress:p().func,defaultValue:p().string,disabled:p().bool,maxOptions:p().number,onBlur:p().func,onChange:p().func,onKeyDown:p().func,onRequestOptions:p().func,onSelect:p().func,changeOnSelect:p().func,options:p().oneOfType([p().object,p().arrayOf(p().string)]),regex:p().string,matchAny:p().bool,minChars:p().number,requestOnlyIfNoOptions:p().bool,spaceRemovers:p().arrayOf(p().string),spacer:p().string,trigger:p().oneOfType([p().string,p().arrayOf(p().string)]),value:p().string,offsetX:p().number,offsetY:p().number,passThroughEnter:p().bool},k={Component:N.Z,defaultValue:"",disabled:!1,maxOptions:6,onBlur:function(){},onChange:function(){},onKeyDown:function(){},onRequestOptions:function(){},onSelect:function(){},changeOnSelect:function(e,n){return e+n},options:[],regex:"^[A-Za-z0-9\\-_]+$",matchAny:!1,minChars:0,requestOnlyIfNoOptions:!0,spaceRemovers:[",",".","!","?"],spacer:" ",trigger:"@",offsetX:0,offsetY:0,value:null,passThroughEnter:!1},M=function(e){(0,f.Z)(t,e);var n=(0,m.Z)(t);function t(e){var r;return(0,d.Z)(this,t),(r=n.call(this,e)).isTrigger=r.isTrigger.bind((0,u.Z)(r)),r.arrayTriggerMatch=r.arrayTriggerMatch.bind((0,u.Z)(r)),r.getMatch=r.getMatch.bind((0,u.Z)(r)),r.handleChange=r.handleChange.bind((0,u.Z)(r)),r.handleKeyDown=r.handleKeyDown.bind((0,u.Z)(r)),r.handleResize=r.handleResize.bind((0,u.Z)(r)),r.handleSelection=r.handleSelection.bind((0,u.Z)(r)),r.updateCaretPosition=r.updateCaretPosition.bind((0,u.Z)(r)),r.updateHelper=r.updateHelper.bind((0,u.Z)(r)),r.resetHelper=r.resetHelper.bind((0,u.Z)(r)),r.renderAutocompleteList=r.renderAutocompleteList.bind((0,u.Z)(r)),r.state={helperVisible:!1,left:0,trigger:null,matchLength:0,matchStart:0,options:[],selection:0,top:0,value:null},r.recentValue=e.defaultValue,r.enableSpaceRemovers=!1,r.refInput=(0,x.createRef)(),r}return(0,h.Z)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize)}},{key:"componentDidUpdate",value:function(e){var n=this.props.options,t=this.state.caret;n.length!==e.options.length&&this.updateHelper(this.recentValue,t,n)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"getMatch",value:function(e,n,t){var r=this,i=function(t){for(var i=r,s=function(t){var r=e.substring(t,n).match(d),s=-1;if(x>0){var a=h?t:t-x+1;if(a<0)return"break";if(i.isTrigger(u,e,a)&&(s=a+x),!r&&s<0)return"break"}else{if(r&&t>0)return"continue";if(n-(s=0===t&&r?0:t+1)===0)return"break"}if(s>=0){var v=f[u];if(null==v)return"continue";var g=e.substring(s,n),p=v.filter((function(e){var n=e.toLowerCase().indexOf(g.toLowerCase());return-1!==n&&(c||0===n)})),j=u,b=g.length;m=null===m?{trigger:j,matchStart:s,matchLength:b,options:p}:(0,l.Z)((0,o.Z)({},m),{trigger:j,matchStart:s,matchLength:b,options:p})}},a=v[t],u=a.triggerStr,h=a.triggerMatch,x=a.triggerLength,g=n-1;g>=0;--g){if("break"===s(g))break}},s=this.props,a=s.trigger,c=s.matchAny,u=s.regex,d=new RegExp(u),h=a;Array.isArray(h)||(h=new Array(a)),h.sort();var f=t;Array.isArray(t)&&h.forEach((function(e){f[e]=t}));for(var v=this.arrayTriggerMatch(h,d),m=null,x=0;x<v.length;x++)i(x);return m}},{key:"arrayTriggerMatch",value:function(e,n){return e.map((function(e){return{triggerStr:e,triggerMatch:e.match(n),triggerLength:e.length}}))}},{key:"isTrigger",value:function(e,n,t){return!e||!e.length||n.substr(t,e.length)===e}},{key:"handleChange",value:function(e){var n=this.props,t=n.onChange,r=n.options,i=n.spaceRemovers,s=n.spacer,a=n.value,o=this.recentValue,l=e.target.value,c=w()(e.target).end;if(l.length||this.setState({helperVisible:!1}),this.recentValue=l,this.setState({caret:c,value:e.target.value}),!l.length||!c)return t(e.target.value);if(this.enableSpaceRemovers&&i.length&&l.length>2&&s.length){for(var u=0;u<Math.max(o.length,l.length);++u)if(o[u]!==l[u]){if(u>=2&&l[u-1]===s&&-1===i.indexOf(l[u-2])&&-1!==i.indexOf(l[u])&&this.getMatch(l.substring(0,u-2),c-3,r)){var d="".concat(l.slice(0,u-1)).concat(l.slice(u,u+1)).concat(l.slice(u-1,u)).concat(l.slice(u+1));return this.updateCaretPosition(u+1),this.refInput.current.value=d,a||this.setState({value:d}),t(d)}break}this.enableSpaceRemovers=!1}return this.updateHelper(l,c,r),a||this.setState({value:e.target.value}),t(e.target.value)}},{key:"handleKeyDown",value:function(e){var n=this.state,t=n.helperVisible,r=n.options,i=n.selection,s=this.props,a=s.onKeyDown,o=s.passThroughEnter;if(t)switch(e.keyCode){case 27:e.preventDefault(),this.resetHelper();break;case 38:e.preventDefault(),this.setState({selection:(r.length+i-1)%r.length});break;case 40:e.preventDefault(),this.setState({selection:(i+1)%r.length});break;case 14:case 13:o||e.preventDefault(),this.handleSelection(i);break;case 9:this.handleSelection(i);break;default:a(e)}else a(e)}},{key:"handleResize",value:function(){this.setState({helperVisible:!1})}},{key:"handleSelection",value:function(e){var n=this.props,t=n.spacer,r=n.onSelect,i=n.changeOnSelect,s=this.state,a=s.matchStart,o=s.matchLength,l=s.options,c=s.trigger,u=l[e],d=this.recentValue,h=0===c.length?"":d.substring(0,a-c.length),f=d.substring(a+o),v={target:this.refInput.current},m=i(c,u);v.target.value="".concat(h).concat(m).concat(t).concat(f),this.handleChange(v),r(v.target.value),this.resetHelper(),this.updateCaretPosition(h.length+m.length+1),this.enableSpaceRemovers=!0}},{key:"updateCaretPosition",value:function(e){var n=this;this.setState({caret:e},(function(){return(0,y.setCaretPosition)(n.refInput.current,e)}))}},{key:"updateHelper",value:function(e,n,t){var r=this.refInput.current,i=this.getMatch(e,n,t);if(i){var s=b()(r,n),a=r.getBoundingClientRect(),l=s.top+r.offsetTop,c=Math.min(s.left+r.offsetLeft-10,r.offsetLeft+a.width-100),u=this.props,d=u.minChars,h=u.onRequestOptions,f=u.requestOnlyIfNoOptions;i.matchLength>=d&&(i.options.length>1||1===i.options.length&&(i.options[0].length!==i.matchLength||1===i.options[0].length))?this.setState((0,o.Z)({helperVisible:!0,top:l,left:c},i)):(f&&i.options.length||h(e.substr(i.matchStart,i.matchLength)),this.resetHelper())}else this.resetHelper()}},{key:"resetHelper",value:function(){this.setState({helperVisible:!1,selection:0})}},{key:"renderAutocompleteList",value:function(){var e=this,n=this.state,t=n.helperVisible,i=n.left,s=n.matchStart,a=n.matchLength,o=n.options,l=n.selection,c=n.top,u=n.value;if(!t)return null;var d=this.props,h=d.maxOptions,f=d.offsetX,v=d.offsetY;if(0===o.length)return null;if(l>=o.length)return this.setState({selection:0}),null;var m=0===h?o.length:h,x=o.slice(0,m).map((function(n,t){var i=e,o=n.toLowerCase().indexOf(u.substr(s,a).toLowerCase());return(0,r.jsxs)("li",{className:t===l?"active":null,onClick:function(){i.handleSelection(t)},onMouseEnter:function(){i.setState({selection:t})},children:[n.slice(0,o),(0,r.jsx)("strong",{children:n.substr(o,a)}),n.slice(o+a)]},n)}));return(0,r.jsx)("ul",{className:"react-autocomplete-input",style:{left:i+f,top:c+v},children:x})}},{key:"render",value:function(){var e=this.props,n=e.onKeyPress,t=e.applyFilter,i=e.defaultValue,s=e.disabled,a=e.onBlur,l=e.value,c=(0,v.Z)(e,["onKeyPress","applyFilter","defaultValue","disabled","onBlur","value"]),u=this.state.value,d=Object.assign({},c);Object.keys(S).forEach((function(e){delete d[e]}));var h="";return"undefined"!==typeof l&&null!==l?h=l:u?h=u:i&&(h=i),(0,r.jsxs)("div",{style:{position:"relative ",display:"flex"},children:[(0,r.jsx)(N.Z,(0,o.Z)({autoComplete:"off",disabled:s,onBlur:a,onChange:this.handleChange,onKeyDown:this.handleKeyDown,inputRef:this.refInput,value:h,InputProps:{endAdornment:(0,r.jsx)(C,{callback:t}),sx:{fontSize:"13px",width:"360px"}},onKeyPress:n},d)),this.renderAutocompleteList()]})}}]),t}(x.Component);M.propTypes=S,M.defaultProps=k;var Z=M,I=function(){return(0,r.jsxs)("div",{className:"markdown-body",children:[(0,r.jsxs)("p",{dir:"auto",children:[(0,r.jsx)("b",{children:"DataGrid filter expressions"})," use Python syntax for selecting matching rows. To use the value of a column in the expression, enclosing the column name like ",(0,r.jsx)("code",{children:'{"Column Name"}'}),". Some examples:"]}),(0,r.jsx)("p",{dir:"auto",children:'To select all of the rows that have a fitness score less than 0.1, given that you have a column named "Fitness":'}),(0,r.jsxs)("div",{className:"snippet-clipboard-content notranslate position-relative overflow-auto",children:[(0,r.jsx)("pre",{className:"notranslate",children:(0,r.jsx)("code",{children:'{"fitness"} < 0.1'})}),(0,r.jsx)("div",{className:"zeroclipboard-container position-absolute right-0 top-0"})]}),(0,r.jsx)("p",{dir:"auto",children:'Note that the column name is case-insensitive (i.e., you can use any case of letters inside quotes). Column values can be used any where in the filter expression. For example, if you wanted to select all of the rows where column "Score 1" was greater than or equal to "Score 2", you would write:'}),(0,r.jsxs)("div",{className:"snippet-clipboard-content notranslate position-relative overflow-auto",children:[(0,r.jsx)("pre",{className:"notranslate",children:(0,r.jsx)("code",{children:'{"score 1"} >= {"score 2"}'})}),(0,r.jsx)("div",{className:"zeroclipboard-container position-absolute right-0 top-0"})]}),(0,r.jsx)("p",{dir:"auto",children:"You can use any of Python's operators, including:"}),(0,r.jsxs)("ul",{dir:"auto",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("code",{children:"<"})," - less than"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("code",{children:"<="})," - less than or equal"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("code",{children:">"})," - greater than"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("code",{children:">="})," - greater than or equal"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("code",{children:"=="})," - equal to"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("code",{children:"!="})," - not equal to"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("code",{children:"is"})," - is the same (e.g., ",(0,r.jsx)("code",{children:"is None"}),")"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("code",{children:"is not"})," - is not the same (e.g."," ",(0,r.jsx)("code",{children:"is not None"}),")"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("code",{children:"+"})," - addition"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("code",{children:"-"})," - subtraction"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("code",{children:"*"})," - multiplication"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("code",{children:"/"})," - division"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("code",{children:"//"})," - integer division"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("code",{children:"**"})," - raise to a power"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("code",{children:"not"})," - flip the boolean value"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("code",{children:"in"})," - is value in a list of values"]})]}),(0,r.jsxs)("p",{dir:"auto",children:["Use ",(0,r.jsx)("code",{children:"is None"})," and ",(0,r.jsx)("code",{children:"is not None"})," for selecting rows that have null values. Otherwise, null values are ignored in most other uses."]}),(0,r.jsxs)("p",{dir:"auto",children:["You can combine comparisons using Python's ",(0,r.jsx)("code",{children:"and"})," and"," ",(0,r.jsx)("code",{children:"or"})," (use parentheses to force evaluation order different from Python's defaults):"]}),(0,r.jsxs)("div",{className:"snippet-clipboard-content notranslate position-relative overflow-auto",children:[(0,r.jsx)("pre",{className:"notranslate",children:(0,r.jsx)("code",{children:'(({"loss"} - {"base line"}) < 0.5) or ({"loss"} > 0.95)'})}),(0,r.jsx)("div",{className:"zeroclipboard-container position-absolute right-0 top-0"})]}),(0,r.jsx)("h3",{dir:"auto",children:"JSON attribute access"}),(0,r.jsx)("p",{dir:"auto",children:"For JSON and metdata columns, you can use the dot operator to access values:"}),(0,r.jsxs)("div",{className:"snippet-clipboard-content notranslate position-relative overflow-auto",children:[(0,r.jsx)("pre",{className:"notranslate",children:(0,r.jsx)("code",{children:'{"Image"}.extension == "jpg"'})}),(0,r.jsx)("div",{className:"zeroclipboard-container position-absolute right-0 top-0"})]}),(0,r.jsx)("p",{dir:"auto",children:"or nested values:"}),(0,r.jsxs)("div",{className:"snippet-clipboard-content notranslate position-relative overflow-auto",children:[(0,r.jsx)("pre",{className:"notranslate",children:(0,r.jsx)("code",{children:'{"Image"}.labels.contains("dog")'})}),(0,r.jsx)("pre",{className:"notranslate",children:(0,r.jsx)("code",{children:'{"Image"}.labels.dog and {"Image"}.labels.cat'})}),(0,r.jsx)("div",{className:"zeroclipboard-container position-absolute right-0 top-0"})]}),(0,r.jsxs)("p",{dir:"auto",children:["See below for more information on ",(0,r.jsx)("code",{children:"contains()"})," and other string and JSON methods."]}),(0,r.jsx)("p",{dir:"auto",children:"Note that any mention of a column that contains an asset type (e.g., an image) will automatically reference its metadata."}),(0,r.jsx)("h3",{dir:"auto",children:"Python String and JSON methods"}),(0,r.jsx)("p",{dir:"auto",children:"These are mostly used with column values:"}),(0,r.jsxs)("ul",{dir:"auto",children:[(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:'{"Column Name"}.contains(STRING)'})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:'{"Column Name"}.endswith(STRING)'})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:'{"Column Name"}.startswith(STRING)'})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:'{"Column Name"}.strip()'})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:'{"Column Name"}.lstrip()'})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:'{"Column Name"}.rstrip()'})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:'{"Column Name"}.upper()'})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:'{"Column Name"}.lower()'})})]}),(0,r.jsx)("h3",{dir:"auto",children:"Python if/else expression"}),(0,r.jsx)("p",{dir:"auto",children:"You can use Python's if/else expression to return one value or another."}),(0,r.jsxs)("div",{className:"snippet-clipboard-content notranslate position-relative overflow-auto",children:[(0,r.jsx)("pre",{className:"notranslate",children:(0,r.jsx)("code",{children:'("low" if {"loss"} < 0.5 else "high") == "low"'})}),(0,r.jsx)("div",{className:"zeroclipboard-container position-absolute right-0 top-0"})]}),(0,r.jsx)("h3",{dir:"auto",children:"Python Builtin Functions"}),(0,r.jsx)("p",{dir:"auto",children:"You can use any of these Python builtin functions:"}),(0,r.jsxs)("ul",{dir:"auto",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("code",{children:"abs()"})," - absolute value"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("code",{children:"round()"})," - rounds to int"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("code",{children:"max(v1, v2, ...)"})," or ",(0,r.jsx)("code",{children:"max([v1, v2, ...])"})," ","- maximum of list of values"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("code",{children:"min(v1, v2, ...)"})," or ",(0,r.jsx)("code",{children:"min([v1, v2, ...])"})," ","- minimum of list of values"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("code",{children:"len()"})," - length of item"]})]}),(0,r.jsx)("h3",{dir:"auto",children:"Aggregate Functions"}),(0,r.jsx)("p",{dir:"auto",children:"You can use the following aggregate functions. Note that these are more expensive to compute, as they require computing on all rows."}),(0,r.jsxs)("ul",{dir:"auto",children:[(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:'AVG({"Column Name"})'})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:'MAX({"Column Name"})'})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:'MIN({"Column Name"})'})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:'SUM({"Column Name"})'})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:'TOTAL({"Column Name"})'})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:'COUNT({"Column Name"})'})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:'STDEV({"Column Name"})'})})]}),(0,r.jsx)("p",{dir:"auto",children:"Examples:"}),(0,r.jsx)("p",{dir:"auto",children:"Find all rows that have a loss value less than the average:"}),(0,r.jsxs)("div",{className:"snippet-clipboard-content notranslate position-relative overflow-auto",children:[(0,r.jsx)("pre",{className:"notranslate",children:(0,r.jsx)("code",{children:'{"loss"} < AVG({"loss"})'})}),(0,r.jsx)("div",{className:"zeroclipboard-container position-absolute right-0 top-0"})]}),(0,r.jsx)("h3",{dir:"auto",children:"Python Library Functions and Values"}),(0,r.jsxs)("p",{dir:"auto",children:["Functions from Python's ",(0,r.jsx)("code",{children:"random"})," library:"]}),(0,r.jsxs)("ul",{dir:"auto",children:[(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"random.random()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"random.randint()"})})]}),(0,r.jsx)("p",{dir:"auto",children:"Note that random values are regenerated on each call, and thus only have limited use. That means that every time the DataGrid is accessed, the values will change. This would result in bizarre results if you grouped or sorted by a random value."}),(0,r.jsxs)("p",{dir:"auto",children:["Functions and values from Python's ",(0,r.jsx)("code",{children:"math"})," library:"]}),(0,r.jsxs)("ul",{dir:"auto",children:[(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.pi"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.sqrt()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.acos()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.acosh()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.asin()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.asinh()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.atan()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.atan2()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.atanh()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.ceil()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.cos()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.cosh()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.degrees()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.exp()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.floor()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.log()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.log10()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.log2()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.radians()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.sin()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.sinh()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.tan()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.tanh()"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"math.trunc()"})})]}),(0,r.jsxs)("p",{dir:"auto",children:["Functions and values from Python's ",(0,r.jsx)("code",{children:"datetime"})," library:"]}),(0,r.jsxs)("ul",{dir:"auto",children:[(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"datetime.date(YEAR, MONTH, DAY)"})}),(0,r.jsx)("li",{children:(0,r.jsx)("code",{children:"datetime.datetime(YEAR, MONTH, DAY[, HOUR, MINUTE, SECOND])"})})]})]})},P=function(){return(0,r.jsx)("div",{className:"button-outline",children:(0,r.jsx)("span",{children:"?"})})},O=function(e){var n=e.query,t=e.columns,i=(0,c.unstable_useRefreshRoot)(),s=(0,x.useCallback)((function(e){"Enter"===e.key&&i({query:(0,l.Z)((0,o.Z)({},n),{whereExpr:null===filter||void 0===filter?void 0:filter.value,offset:0})})}),[n]),u=(0,x.useCallback)((function(e){var t=document.getElementById("filter");i({query:(0,l.Z)((0,o.Z)({},n),{whereExpr:null===t||void 0===t?void 0:t.value,offset:0})})}),[n]);return(0,x.useEffect)((function(){document.getElementById("filter").value=(null===n||void 0===n?void 0:n.whereExpr)||""}),[n]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z,{trigger:["{"],options:{"{":t.map((function(e){return'"'.concat(e,'"')}))},changeOnSelect:function(e,n){return"{".concat(n,"}")},matchAny:!0,regex:'^[a-zA-Z0-9_\\-\\"\\ ]+$',Component:"textarea",spacer:" ",maxOptions:0,spaceRemovers:["."],placeholder:'e.g.: {"column name"} > 0.5',id:"filter",onKeyPress:s,applyFilter:u}),(0,r.jsx)(a.default,{fullScreen:!1,toggleElement:(0,r.jsx)(P,{}),children:(0,r.jsx)(I,{})})]})},E=s()((function(){return Promise.all([t.e(626),t.e(265)]).then(t.bind(t,265))}),{loadableGenerated:{webpack:function(){return[265]}},ssr:!1}),T=s()((function(){return t.e(629).then(t.bind(t,1629))}),{loadableGenerated:{webpack:function(){return[1629]}},ssr:!1}),L=function(){return(0,r.jsxs)("div",{className:"button-outline",children:[(0,r.jsx)("img",{src:"/sort_icon.png"})," ",(0,r.jsx)("span",{children:"Sort"})]})},R=function(){return(0,r.jsxs)("div",{className:"button-outline",children:[(0,r.jsx)("img",{src:"/group_placeholder.png"})," ",(0,r.jsx)("span",{children:"Group by"})]})},A=function(){return(0,r.jsxs)("div",{className:"button-outline",children:[(0,r.jsx)("img",{src:"/columns_placeholder.png"})," ",(0,r.jsx)("span",{children:"Columns"})]})},D=function(e){var n=e.columns,t=e.query,i=e.options;return(0,r.jsxs)("div",{className:"select-row",children:[(0,r.jsx)(T,{toggleElement:(0,r.jsx)(R,{}),children:(0,r.jsx)(E,{query:t,subtrees:["groupBy","sortBy"],columns:n})}),(0,r.jsx)(T,{toggleElement:(0,r.jsx)(L,{}),children:(0,r.jsx)(E,{query:t,subtree:"sortBy",columns:n})}),(0,r.jsx)(a.default,{toggleElement:(0,r.jsx)(A,{}),sx:{"& .MuiDialog-container":{"& .MuiPaper-root":{width:"100%",maxWidth:"540px"}}},children:(0,r.jsx)(E,{query:t,isMulti:!0,columns:n,defaultOptions:i})}),(0,r.jsx)(O,{query:t,columns:n})]})}},3340:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(4810);n.default=function(e){var n=e.children;return(0,r.jsx)(i.Z,{injectFirst:!0,children:(0,r.jsx)("div",{className:"main",children:(0,r.jsx)("div",{className:"page",children:n})})})}},1838:function(e,n,t){"use strict";var r=t(3454),i={apiUrl:"".concat(r.env.KANGAS_PROTOCOL||"http","://").concat(r.env.KANGAS_HOST,":").concat(r.env.KANGAS_BACKEND_PORT,"/datagrid/"),defaultDecimalPrecision:5,locale:"en-US",isColab:"True"===r.env.IN_COLAB};n.Z=i},1763:function(e,n,t){"use strict";var r=t(1438),i=t(2951),s=t(2825);function a(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return String(e).padStart(n,t)}var o=function(){function e(n){(0,r.Z)(this,e),this.obj=new Date(1e3*n),this.year=a(this.obj.getFullYear(),4),this.month=a(this.obj.getDate(),2),this.day=a(this.obj.getDate(),2),this.hour=a(this.obj.getHours(),2),this.minute=a(this.obj.getMinutes(),2),this.second=a(this.obj.getSeconds(),2)}return(0,i.Z)(e,[{key:"format",value:function(){return"00"===this.hour&&"00"===this.minute&&"00"===this.second?"".concat(this.year,"-").concat(this.month,"-").concat(this.day):"".concat(this.year,"-").concat(this.month,"-").concat(this.day," ").concat(this.hour,":").concat(this.minute,":").concat(this.second)}}]),e}();n.Z=function(e,n){if(null===e)return"None";var t=e;return"DATETIME"===n?t=new o(e).format("YYYY-MM-DD HH:mm:ss"):"FLOAT"===n?t=(0,s.Z)(e).toString():"string"!==typeof e&&(t=e.toString()),t}},1663:function(e,n,t){"use strict";t.d(n,{Lq:function(){return s},Qg:function(){return a}});var r=t(9815),i=function(e){var n=["#ffd51d","#ffbd00","#ff8900","#fb7628","#ff4747","#e51772","#cf0057","#6e1d89","#860dab","#49a5bd","#0096c7","#00b4d8","#12a592","#16cab2","#41ead4"];return n[e%n.length]},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";if(["1","true","t","yes"].includes(e.toLowerCase()))return"#12a592";if(["0","false","f","no"].includes(e.toLowerCase()))return"#cf0057";var n=(0,r.Z)(e).reduce((function(e,n){return n.charCodeAt(0)+((e<<5)-e)}),0);return i(Math.abs(n))},a=function(e){var n=function(e){var n=e.match(/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/);return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}(e),t=n[0],r=n[1],i=n[2];return Math.round((299*t+587*r+114*i)/1e3)>125?"black":"white"}},2825:function(e,n,t){"use strict";var r=t(828),i=t(1838);n.Z=function(e,n){var t=null!==n&&void 0!==n?n:i.Z.defaultDecimalPrecision;if(null===t)return e;var s=Number(e);if(isNaN(s))return e;if(Number.isInteger(s)||function(e){if(Math.floor(e)===e)return 0;var n=(0,r.Z)(e.toString().split("."),2)[1];return(void 0===n?"":n).length}(s)<=t)return s;var a=Math.pow(10,t);return Math.floor(s*a)/a}},1626:function(e,n,t){"use strict";var r=t(1799),i=t(9396),s=t(7294),a=t(3682),o=t(7632);n.Z=function(e){var n=(0,s.useContext)(a.ConfigContext),t=n.isColab,l=n.apiUrl,c=(0,s.useState)(),u=c[0],d=c[1],h=(0,s.useRef)(!1),f=(0,s.useMemo)((function(){return(0,o.Z)()}),[]);return(0,s.useEffect)((function(){t&&!h.current&&f&&(window.addEventListener("message",(function(e){var n=e.data,t=n.messageType,r=n.targetId,i=n.raw;if("category"===t&&r===f){var s=JSON.parse(i.replace(/\n/g,"").replace(/\'/g,'"').replace(": None",": null"));d(s)}}),!1),h.current=!0),t?e&&f&&window.parent.postMessage((0,i.Z)((0,r.Z)({},e),{targetId:f,type:"category"}),"*"):fetch("".concat(l,"category"),{body:JSON.stringify(e),method:"post"}).then((function(e){return e.json()})).then((function(e){return d(e)}))}),[e,t,f]),u}},6024:function(e,n,t){"use strict";var r=t(1799),i=t(9396),s=t(7294),a=t(3682),o=t(7632);n.Z=function(e){var n=(0,s.useContext)(a.ConfigContext),t=n.isColab,l=n.apiUrl,c=(0,s.useState)(),u=c[0],d=c[1],h=(0,s.useRef)(!1),f=(0,s.useMemo)((function(){return(0,o.Z)()}),[]);return(0,s.useEffect)((function(){t&&!h.current&&f&&(window.addEventListener("message",(function(e){var n=e.data,t=n.messageType,r=n.targetId,i=n.raw;if("histogram"===t&&r===f){var s=JSON.parse(i.replace(/\n/g,"").replace(/\'/g,'"').replace(": None",": null"));d(s)}}),!1),h.current=!0),t?e&&f&&window.parent.postMessage((0,i.Z)((0,r.Z)({},e),{targetId:f,type:"histogram"}),"*"):fetch("".concat(l,"histogram"),{body:JSON.stringify(e),method:"post"}).then((function(e){return e.json()})).then((function(e){return d(e)}))}),[e,t,f]),u}}},function(e){e.O(0,[774,801],(function(){return n=9641,e(e.s=n);var n}));var n=e.O();_N_E=n}]);