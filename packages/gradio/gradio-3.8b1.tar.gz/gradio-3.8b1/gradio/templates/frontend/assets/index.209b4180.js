import{S as de,i as pe,s as ke,ab as le,c as H,m as I,l as S,j as w,k as A,o as N,P as ve,Q as we,a as L,A as ye,f as C,R as je,T as ze,C as q,D as M,n as G,a7 as Be,H as Y,e as v,b as h,L as R,Y as F,d as B,g as y,t as te,h as ne,B as ie,z as Ae,ae as Ce,w as E}from"./index.a2169fe7.js";import{B as Ge}from"./Block.dc0cf70c.js";import{B as De}from"./BlockLabel.4ce6230a.js";import{M as Le}from"./ModifyUpload.a1dc04c9.js";import{n as J}from"./utils.27234e1d.js";import{g as Re}from"./styles.ed3b21b5.js";import{I as U}from"./Image.1907ca71.js";function K(t,e,l){const i=t.slice();return i[29]=e[l][0],i[30]=e[l][1],i[32]=l,i}function O(t,e,l){const i=t.slice();return i[29]=e[l],i[33]=e,i[32]=l,i}function W(t){let e,l;return e=new De({props:{show_label:t[1],Icon:U,label:t[2]||"Gallery",disable:typeof t[6].container=="boolean"&&!t[6].container}}),{c(){H(e.$$.fragment)},m(i,o){I(e,i,o),l=!0},p(i,o){const n={};o[0]&2&&(n.show_label=i[1]),o[0]&4&&(n.label=i[2]||"Gallery"),o[0]&64&&(n.disable=typeof i[6].container=="boolean"&&!i[6].container),e.$set(n)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){A(e.$$.fragment,i),l=!1},d(i){N(e,i)}}}function He(t){let e,l,i,o,n,r,a=t[7]!==null&&X(t);const d=[Se,Ne],c=[];function g(u,m){return u[10].length===0?0:1}return i=g(t),o=c[i]=d[i](t),{c(){a&&a.c(),e=L(),l=v("div"),o.c(),h(l,"class","overflow-y-auto h-full p-2"),le(()=>t[26].call(l)),B(l,"min-h-[350px]",t[6].height!=="auto"),B(l,"max-h-[55vh]",t[6].height!=="auto"),B(l,"xl:min-h-[450px]",t[6].height!=="auto")},m(u,m){a&&a.m(u,m),C(u,e,m),C(u,l,m),c[i].m(l,null),n=Ce(l,t[26].bind(l)),r=!0},p(u,m){u[7]!==null?a?(a.p(u,m),m[0]&128&&w(a,1)):(a=X(u),a.c(),w(a,1),a.m(e.parentNode,e)):a&&(q(),A(a,1,1,()=>{a=null}),M());let j=i;i=g(u),i===j?c[i].p(u,m):(q(),A(c[j],1,1,()=>{c[j]=null}),M(),o=c[i],o?o.p(u,m):(o=c[i]=d[i](u),o.c()),w(o,1),o.m(l,null)),m[0]&64&&B(l,"min-h-[350px]",u[6].height!=="auto"),m[0]&64&&B(l,"max-h-[55vh]",u[6].height!=="auto"),m[0]&64&&B(l,"xl:min-h-[450px]",u[6].height!=="auto")},i(u){r||(w(a),w(o),r=!0)},o(u){A(a),A(o),r=!1},d(u){a&&a.d(u),u&&G(e),u&&G(l),c[i].d(),n()}}}function Ie(t){let e,l,i,o;return i=new U({}),{c(){e=v("div"),l=v("div"),H(i.$$.fragment),h(l,"class","h-5 dark:text-white opacity-50"),h(e,"class","h-full min-h-[15rem] flex justify-center items-center")},m(n,r){C(n,e,r),y(e,l),I(i,l,null),o=!0},p:E,i(n){o||(w(i.$$.fragment,n),o=!0)},o(n){A(i.$$.fragment,n),o=!1},d(n){n&&G(e),N(i)}}}function X(t){let e,l,i,o,n,r,a,d,c,g,u,m,j;l=new Le({}),l.$on("clear",t[20]);let s=t[10][t[7]][1]&&Z(t),b=t[10],k=[];for(let f=0;f<b.length;f+=1)k[f]=$(O(t,b,f));return{c(){e=v("div"),H(l.$$.fragment),i=L(),o=v("img"),d=L(),s&&s.c(),c=L(),g=v("div");for(let f=0;f<k.length;f+=1)k[f].c();h(o,"class","w-full object-contain h-[calc(100%-50px)"),R(o.src,n=t[10][t[7]][0].data)||h(o,"src",n),h(o,"alt",r=t[10][t[7]][1]||""),h(o,"title",a=t[10][t[7]][1]||null),F(o,"height","calc(100% - "+(t[10][t[7]][1]?"80px":"60px")+")"),h(g,"class","absolute h-[60px] overflow-x-scroll scroll-hide w-full bottom-0 flex gap-1.5 items-center py-2 text-sm px-3 justify-center"),h(e,"class","absolute group inset-0 z-10 flex flex-col bg-white/90 dark:bg-gray-900 backdrop-blur h-full"),B(e,"min-h-[350px]",t[6].height!=="auto"),B(e,"max-h-[55vh]",t[6].height!=="auto"),B(e,"xl:min-h-[450px]",t[6].height!=="auto")},m(f,z){C(f,e,z),I(l,e,null),y(e,i),y(e,o),y(e,d),s&&s.m(e,null),y(e,c),y(e,g);for(let p=0;p<k.length;p+=1)k[p].m(g,null);t[24](g),u=!0,m||(j=[S(o,"click",t[21]),S(e,"keydown",t[16])],m=!0)},p(f,z){if((!u||z[0]&1152&&!R(o.src,n=f[10][f[7]][0].data))&&h(o,"src",n),(!u||z[0]&1152&&r!==(r=f[10][f[7]][1]||""))&&h(o,"alt",r),(!u||z[0]&1152&&a!==(a=f[10][f[7]][1]||null))&&h(o,"title",a),(!u||z[0]&1152)&&F(o,"height","calc(100% - "+(f[10][f[7]][1]?"80px":"60px")+")"),f[10][f[7]][1]?s?s.p(f,z):(s=Z(f),s.c(),s.m(e,c)):s&&(s.d(1),s=null),z[0]&3200){b=f[10];let p;for(p=0;p<b.length;p+=1){const D=O(f,b,p);k[p]?k[p].p(D,z):(k[p]=$(D),k[p].c(),k[p].m(g,null))}for(;p<k.length;p+=1)k[p].d(1);k.length=b.length}z[0]&64&&B(e,"min-h-[350px]",f[6].height!=="auto"),z[0]&64&&B(e,"max-h-[55vh]",f[6].height!=="auto"),z[0]&64&&B(e,"xl:min-h-[450px]",f[6].height!=="auto")},i(f){u||(w(l.$$.fragment,f),u=!0)},o(f){A(l.$$.fragment,f),u=!1},d(f){f&&G(e),N(l),s&&s.d(),ie(k,f),t[24](null),m=!1,Ae(j)}}}function Z(t){let e,l,i=t[10][t[7]][1]+"",o;return{c(){e=v("div"),l=v("div"),o=te(i),h(l,"class","dark:text-gray-200 font-semibold px-3 py-1 max-w-full truncate"),h(e,"class","bottom-[50px] absolute z-[5] flex justify-center w-full")},m(n,r){C(n,e,r),y(e,l),y(l,o)},p(n,r){r[0]&1152&&i!==(i=n[10][n[7]][1]+"")&&ne(o,i)},d(n){n&&G(e)}}}function $(t){let e,l,i,o,n,r,a,d=t[32],c,g;const u=()=>t[22](e,d),m=()=>t[22](null,d);function j(){return t[23](t[32])}return{c(){e=v("button"),l=v("img"),r=L(),h(l,"class","h-full w-full overflow-hidden object-contain"),R(l.src,i=t[29][0].data)||h(l,"src",i),h(l,"title",o=t[29][1]||null),h(l,"alt",n=t[29][1]||null),h(e,"class",a="gallery-item !flex-none !h-9 !w-9 transition-all duration-75 "+(t[7]===t[32]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" svelte-1g9btlg")},m(s,b){C(s,e,b),y(e,l),y(e,r),u(),c||(g=S(e,"click",j),c=!0)},p(s,b){t=s,b[0]&1024&&!R(l.src,i=t[29][0].data)&&h(l,"src",i),b[0]&1024&&o!==(o=t[29][1]||null)&&h(l,"title",o),b[0]&1024&&n!==(n=t[29][1]||null)&&h(l,"alt",n),b[0]&128&&a!==(a="gallery-item !flex-none !h-9 !w-9 transition-all duration-75 "+(t[7]===t[32]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" svelte-1g9btlg")&&h(e,"class",a),d!==t[32]&&(m(),d=t[32],u())},d(s){s&&G(e),m(),c=!1,g()}}}function Ne(t){let e,l,i=t[10],o=[];for(let n=0;n<i.length;n+=1)o[n]=ee(K(t,i,n));return{c(){e=v("div");for(let n=0;n<o.length;n+=1)o[n].c();h(e,"class",l="grid gap-2 "+t[13]+" svelte-1g9btlg"),B(e,"pt-6",t[1])},m(n,r){C(n,e,r);for(let a=0;a<o.length;a+=1)o[a].m(e,null)},p(n,r){if(r[0]&17536){i=n[10];let a;for(a=0;a<i.length;a+=1){const d=K(n,i,a);o[a]?o[a].p(d,r):(o[a]=ee(d),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}r[0]&8192&&l!==(l="grid gap-2 "+n[13]+" svelte-1g9btlg")&&h(e,"class",l),r[0]&8194&&B(e,"pt-6",n[1])},i:E,o:E,d(n){n&&G(e),ie(o,n)}}}function Se(t){let e,l,i,o;return i=new U({}),{c(){e=v("div"),l=v("div"),H(i.$$.fragment),h(l,"class","h-5 dark:text-white opacity-50"),h(e,"class","h-full min-h-[15rem] flex justify-center items-center")},m(n,r){C(n,e,r),y(e,l),I(i,l,null),o=!0},p:E,i(n){o||(w(i.$$.fragment,n),o=!0)},o(n){A(i.$$.fragment,n),o=!1},d(n){n&&G(e),N(i)}}}function x(t){let e,l,i=t[30]+"",o;return{c(){e=v("div"),l=v("div"),o=te(i),h(l,"class","bg-gray-50 dark:bg-gray-700 dark:text-gray-200 text-xs border-t border-l dark:border-gray-600 font-semibold px-3 py-1 rounded-tl-lg group-hover:opacity-50 max-w-full truncate"),h(e,"class","bottom-0 absolute z-[5] flex justify-end w-full")},m(n,r){C(n,e,r),y(e,l),y(l,o)},p(n,r){r[0]&1024&&i!==(i=n[30]+"")&&ne(o,i)},d(n){n&&G(e)}}}function ee(t){let e,l,i,o,n,r,a,d,c=t[30]&&x(t);function g(){return t[25](t[32])}return{c(){e=v("button"),l=v("img"),n=L(),c&&c.c(),r=L(),h(l,"alt",i=t[30]||""),h(l,"class","h-full w-full overflow-hidden object-contain"),R(l.src,o=typeof t[29]=="string"?t[29]:t[29].data)||h(l,"src",o),h(e,"class","gallery-item group svelte-1g9btlg")},m(u,m){C(u,e,m),y(e,l),y(e,n),c&&c.m(e,null),y(e,r),a||(d=S(e,"click",g),a=!0)},p(u,m){t=u,m[0]&1024&&i!==(i=t[30]||"")&&h(l,"alt",i),m[0]&1024&&!R(l.src,o=typeof t[29]=="string"?t[29]:t[29].data)&&h(l,"src",o),t[30]?c?c.p(t,m):(c=x(t),c.c(),c.m(e,r)):c&&(c.d(1),c=null)},d(u){u&&G(e),c&&c.d(),a=!1,d()}}}function Te(t){let e,l,i,o,n,r,a;const d=[t[0]];let c={};for(let s=0;s<d.length;s+=1)c=ve(c,d[s]);e=new we({props:c});let g=t[1]&&W(t);const u=[Ie,He],m=[];function j(s,b){return s[5]===null||s[10]===null?0:1}return o=j(t),n=m[o]=u[o](t),{c(){H(e.$$.fragment),l=L(),g&&g.c(),i=L(),n.c(),r=ye()},m(s,b){I(e,s,b),C(s,l,b),g&&g.m(s,b),C(s,i,b),m[o].m(s,b),C(s,r,b),a=!0},p(s,b){const k=b[0]&1?je(d,[ze(s[0])]):{};e.$set(k),s[1]?g?(g.p(s,b),b[0]&2&&w(g,1)):(g=W(s),g.c(),w(g,1),g.m(i.parentNode,i)):g&&(q(),A(g,1,1,()=>{g=null}),M());let f=o;o=j(s),o===f?m[o].p(s,b):(q(),A(m[f],1,1,()=>{m[f]=null}),M(),n=m[o],n?n.p(s,b):(n=m[o]=u[o](s),n.c()),w(n,1),n.m(r.parentNode,r))},i(s){a||(w(e.$$.fragment,s),w(g),w(n),a=!0)},o(s){A(e.$$.fragment,s),A(g),A(n),a=!1},d(s){N(e,s),s&&G(l),g&&g.d(s),s&&G(i),m[o].d(s),s&&G(r)}}}function qe(t){let e,l,i,o;return le(t[19]),e=new Ge({props:{visible:t[4],variant:"solid",color:"grey",padding:!1,elem_id:t[3],disable:typeof t[6].container=="boolean"&&!t[6].container,$$slots:{default:[Te]},$$scope:{ctx:t}}}),{c(){H(e.$$.fragment)},m(n,r){I(e,n,r),l=!0,i||(o=S(window,"resize",t[19]),i=!0)},p(n,r){const a={};r[0]&16&&(a.visible=n[4]),r[0]&8&&(a.elem_id=n[3]),r[0]&64&&(a.disable=typeof n[6].container=="boolean"&&!n[6].container),r[0]&64999|r[1]&8&&(a.$$scope={dirty:r,ctx:n}),e.$set(a)},i(n){l||(w(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){N(e,n),i=!1,o()}}}function Me(t,e,l){let i,o,n,r,a,{loading_status:d}=e,{show_label:c}=e,{label:g}=e,{root:u}=e,{elem_id:m=""}=e,{visible:j=!0}=e,{value:s=null}=e,{style:b={}}=e,k=null,f=null;function z(_){switch(_.code){case"Escape":_.preventDefault(),l(7,f=null);break;case"ArrowLeft":_.preventDefault(),l(7,f=o);break;case"ArrowRight":_.preventDefault(),l(7,f=n);break}}let p=[],D;async function oe(_){if(typeof _!="number")return;await Be(),p[_].focus();const{left:Q,width:ge}=D.getBoundingClientRect(),{left:he,width:be}=p[_].getBoundingClientRect(),V=he-Q+be/2-ge/2+D.scrollLeft;D.scrollTo({left:V<0?0:V,behavior:"smooth"})}let T=0,P=0;function ae(){l(9,P=window.innerHeight)}const se=()=>l(7,f=null),re=()=>l(7,f=n);function fe(_,Q){Y[_?"unshift":"push"](()=>{p[Q]=_,l(11,p)})}const ue=_=>l(7,f=_);function _e(_){Y[_?"unshift":"push"](()=>{D=_,l(12,D)})}const ce=_=>l(7,f=r?_:f);function me(){T=this.clientHeight,l(8,T)}return t.$$set=_=>{"loading_status"in _&&l(0,d=_.loading_status),"show_label"in _&&l(1,c=_.show_label),"label"in _&&l(2,g=_.label),"root"in _&&l(17,u=_.root),"elem_id"in _&&l(3,m=_.elem_id),"visible"in _&&l(4,j=_.visible),"value"in _&&l(5,s=_.value),"style"in _&&l(6,b=_.style)},t.$$.update=()=>{t.$$.dirty[0]&131104&&l(10,i=s===null?null:s.map(_=>Array.isArray(_)?[J(_[0],u),_[1]]:[J(_,u),null])),t.$$.dirty[0]&262176&&k!==s&&(l(7,f=null),l(18,k=s)),t.$$.dirty[0]&1152&&(o=((f??0)+(i?.length??0)-1)%(i?.length??0)),t.$$.dirty[0]&1152&&l(15,n=((f??0)+1)%(i?.length??0)),t.$$.dirty[0]&128&&oe(f),t.$$.dirty[0]&768&&l(14,r=P>=T),t.$$.dirty[0]&64&&l(13,{classes:a}=Re(b,["grid"]),a)},[d,c,g,m,j,s,b,f,T,P,i,p,D,a,r,n,z,u,k,ae,se,re,fe,ue,_e,ce,me]}class Ee extends de{constructor(e){super(),pe(this,e,Me,qe,ke,{loading_status:0,show_label:1,label:2,root:17,elem_id:3,visible:4,value:5,style:6},null,[-1,-1])}}var Oe=Ee;const We=["static"];export{Oe as Component,We as modes};
//# sourceMappingURL=index.209b4180.js.map
