import{S as q,i as G,s as H,c as C,a as F,A as K,m as M,f as v,C as J,k as A,D as L,j as D,o as S,n as w,e as p,b as g,g as m,w as T,t as B,h as U,B as W,E as te,a7 as ne,H as Y,N as Z,K as y,O as ie,X as fe,P as oe,Q as ae,R as re,T as se,J as P}from"./index.8f5418d6.js";import{B as x}from"./BlockLabel.256b96a8.js";import{F as O}from"./File.17a36571.js";import{U as $}from"./Upload.9148f829.js";import{M as ue}from"./ModifyUpload.8dfe7665.js";import{B as _e}from"./Block.272fd015.js";import{n as ce}from"./utils.27234e1d.js";import"./styles.ed3b21b5.js";const de=o=>{let e=["B","KB","MB","GB","PB"],i=0;for(;o>1024;)o/=1024,i++;let l=e[i];return o.toFixed(1)+" "+l},j=o=>{var e;return e=o.orig_name||o.name,e.length>30?`${e.substr(0,30)}...`:e},E=o=>o.data,I=o=>{var e=0;if(Array.isArray(o))for(var i of o)i.size!==void 0&&(e+=i.size);else e=o.size||0;return de(e)};function Q(o,e,i){const l=o.slice();return l[4]=e[i],l}function be(o){let e,i,l,t;return l=new O({}),{c(){e=p("div"),i=p("div"),C(l.$$.fragment),g(i,"class","h-5 dark:text-white opacity-50"),g(e,"class","h-full min-h-[15rem] flex justify-center items-center")},m(a,f){v(a,e,f),m(e,i),M(l,i,null),t=!0},p:T,i(a){t||(D(l.$$.fragment,a),t=!0)},o(a){A(l.$$.fragment,a),t=!1},d(a){a&&w(e),S(l)}}}function me(o){let e,i;function l(f,s){return s&1&&(i=null),i==null&&(i=!!Array.isArray(f[0])),i?ve:ge}let t=l(o,-1),a=t(o);return{c(){e=p("div"),a.c(),g(e,"class","file-preview overflow-y-scroll w-full max-h-60 flex flex-col justify-between mt-7 mb-7 dark:text-slate-200")},m(f,s){v(f,e,s),a.m(e,null)},p(f,s){t===(t=l(f,s))&&a?a.p(f,s):(a.d(1),a=t(f),a&&(a.c(),a.m(e,null)))},i:T,o:T,d(f){f&&w(e),a.d()}}}function ge(o){let e,i,l=j(o[0])+"",t,a,f,s=I(o[0])+"",u,d,n,r,c,b,z;return{c(){e=p("div"),i=p("div"),t=B(l),a=F(),f=p("div"),u=B(s),d=F(),n=p("div"),r=p("a"),c=B("Download"),g(i,"class","file-name w-5/12 p-2"),g(f,"class","file-size w-3/12 p-2"),g(r,"href",b=E(o[0])),g(r,"download",z=j(o[0])),g(r,"class","text-indigo-600 hover:underline dark:text-indigo-300"),g(n,"class","file-size w-3/12 p-2 hover:underline"),g(e,"class","flex flex-row")},m(k,_){v(k,e,_),m(e,i),m(i,t),m(e,a),m(e,f),m(f,u),m(e,d),m(e,n),m(n,r),m(r,c)},p(k,_){_&1&&l!==(l=j(k[0])+"")&&U(t,l),_&1&&s!==(s=I(k[0])+"")&&U(u,s),_&1&&b!==(b=E(k[0]))&&g(r,"href",b),_&1&&z!==(z=j(k[0]))&&g(r,"download",z)},d(k){k&&w(e)}}}function ve(o){let e,i=o[0],l=[];for(let t=0;t<i.length;t+=1)l[t]=R(Q(o,i,t));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=K()},m(t,a){for(let f=0;f<l.length;f+=1)l[f].m(t,a);v(t,e,a)},p(t,a){if(a&1){i=t[0];let f;for(f=0;f<i.length;f+=1){const s=Q(t,i,f);l[f]?l[f].p(s,a):(l[f]=R(s),l[f].c(),l[f].m(e.parentNode,e))}for(;f<l.length;f+=1)l[f].d(1);l.length=i.length}},d(t){W(l,t),t&&w(e)}}}function R(o){let e,i,l=j(o[4])+"",t,a,f,s=I(o[4])+"",u,d,n,r,c,b,z,k;return{c(){e=p("div"),i=p("div"),t=B(l),a=F(),f=p("div"),u=B(s),d=F(),n=p("div"),r=p("a"),c=B("Download"),k=F(),g(i,"class","file-name p-2"),g(f,"class","file-size p-2"),g(r,"href",b=E(o[4])),g(r,"download",z=j(o[4])),g(r,"class","text-indigo-600 hover:underline dark:text-indigo-300"),g(n,"class","file-size w-3/12 p-2 hover:underline"),g(e,"class","flex flex-row w-full justify-between")},m(_,N){v(_,e,N),m(e,i),m(i,t),m(e,a),m(e,f),m(f,u),m(e,d),m(e,n),m(n,r),m(r,c),m(e,k)},p(_,N){N&1&&l!==(l=j(_[4])+"")&&U(t,l),N&1&&s!==(s=I(_[4])+"")&&U(u,s),N&1&&b!==(b=E(_[4]))&&g(r,"href",b),N&1&&z!==(z=j(_[4]))&&g(r,"download",z)},d(_){_&&w(e)}}}function we(o){let e,i,l,t,a,f;e=new x({props:{show_label:o[2],Icon:O,label:o[1]||"File"}});const s=[me,be],u=[];function d(n,r){return n[0]?0:1}return l=d(o),t=u[l]=s[l](o),{c(){C(e.$$.fragment),i=F(),t.c(),a=K()},m(n,r){M(e,n,r),v(n,i,r),u[l].m(n,r),v(n,a,r),f=!0},p(n,[r]){const c={};r&4&&(c.show_label=n[2]),r&2&&(c.label=n[1]||"File"),e.$set(c);let b=l;l=d(n),l===b?u[l].p(n,r):(J(),A(u[b],1,1,()=>{u[b]=null}),L(),t=u[l],t?t.p(n,r):(t=u[l]=s[l](n),t.c()),D(t,1),t.m(a.parentNode,a))},i(n){f||(D(e.$$.fragment,n),D(t),f=!0)},o(n){A(e.$$.fragment,n),A(t),f=!1},d(n){S(e,n),n&&w(i),u[l].d(n),n&&w(a)}}}function ke(o,e,i){let{value:l}=e,{label:t}=e,{show_label:a}=e,{file_count:f}=e;return o.$$set=s=>{"value"in s&&i(0,l=s.value),"label"in s&&i(1,t=s.label),"show_label"in s&&i(2,a=s.show_label),"file_count"in s&&i(3,f=s.file_count)},[l,t,a,f]}class he extends q{constructor(e){super(),G(this,e,ke,we,H,{value:0,label:1,show_label:2,file_count:3})}}function X(o,e,i){const l=o.slice();return l[13]=e[i],l}function pe(o){let e,i,l,t,a;i=new ue({props:{absolute:!0}}),i.$on("clear",o[9]);function f(d,n){return n&1&&(t=null),t==null&&(t=!!Array.isArray(d[0])),t?je:Fe}let s=f(o,-1),u=s(o);return{c(){e=p("div"),C(i.$$.fragment),l=F(),u.c(),g(e,"class","file-preview overflow-y-scroll w-full max-h-60 flex flex-col justify-between mt-7 mb-7 dark:text-slate-200")},m(d,n){v(d,e,n),M(i,e,null),m(e,l),u.m(e,null),a=!0},p(d,n){s===(s=f(d,n))&&u?u.p(d,n):(u.d(1),u=s(d),u&&(u.c(),u.m(e,null)))},i(d){a||(D(i.$$.fragment,d),a=!0)},o(d){A(i.$$.fragment,d),a=!1},d(d){d&&w(e),S(i),u.d()}}}function ze(o){let e,i,l;function t(f){o[11](f)}let a={filetype:"file",file_count:o[6],$$slots:{default:[Ae]},$$scope:{ctx:o}};return o[7]!==void 0&&(a.dragging=o[7]),e=new $({props:a}),Y.push(()=>Z(e,"dragging",t)),e.$on("load",o[8]),{c(){C(e.$$.fragment)},m(f,s){M(e,f,s),l=!0},p(f,s){const u={};s&64&&(u.file_count=f[6]),s&65550&&(u.$$scope={dirty:s,ctx:f}),!i&&s&128&&(i=!0,u.dragging=f[7],y(()=>i=!1)),e.$set(u)},i(f){l||(D(e.$$.fragment,f),l=!0)},o(f){A(e.$$.fragment,f),l=!1},d(f){S(e,f)}}}function Be(o){let e,i,l;function t(f){o[10](f)}let a={filetype:"file",$$slots:{default:[De]},$$scope:{ctx:o}};return o[7]!==void 0&&(a.dragging=o[7]),e=new $({props:a}),Y.push(()=>Z(e,"dragging",t)),e.$on("load",o[8]),{c(){C(e.$$.fragment)},m(f,s){M(e,f,s),l=!0},p(f,s){const u={};s&65550&&(u.$$scope={dirty:s,ctx:f}),!i&&s&128&&(i=!0,u.dragging=f[7],y(()=>i=!1)),e.$set(u)},i(f){l||(D(e.$$.fragment,f),l=!0)},o(f){A(e.$$.fragment,f),l=!1},d(f){S(e,f)}}}function Fe(o){let e,i,l=j(o[0])+"",t,a,f,s=I(o[0])+"",u,d,n,r,c,b,z;return{c(){e=p("div"),i=p("div"),t=B(l),a=F(),f=p("div"),u=B(s),d=F(),n=p("div"),r=p("a"),c=B("Download"),g(i,"class","file-name p-2"),g(f,"class","file-size p-2"),g(r,"href",b=E(o[0])),g(r,"download",z=j(o[0])),g(r,"class","text-indigo-600 hover:underline dark:text-indigo-300"),g(n,"class","file-size p-2 hover:underline"),g(e,"class","flex flex-row")},m(k,_){v(k,e,_),m(e,i),m(i,t),m(e,a),m(e,f),m(f,u),m(e,d),m(e,n),m(n,r),m(r,c)},p(k,_){_&1&&l!==(l=j(k[0])+"")&&U(t,l),_&1&&s!==(s=I(k[0])+"")&&U(u,s),_&1&&b!==(b=E(k[0]))&&g(r,"href",b),_&1&&z!==(z=j(k[0]))&&g(r,"download",z)},d(k){k&&w(e)}}}function je(o){let e,i=o[0],l=[];for(let t=0;t<i.length;t+=1)l[t]=V(X(o,i,t));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=K()},m(t,a){for(let f=0;f<l.length;f+=1)l[f].m(t,a);v(t,e,a)},p(t,a){if(a&1){i=t[0];let f;for(f=0;f<i.length;f+=1){const s=X(t,i,f);l[f]?l[f].p(s,a):(l[f]=V(s),l[f].c(),l[f].m(e.parentNode,e))}for(;f<l.length;f+=1)l[f].d(1);l.length=i.length}},d(t){W(l,t),t&&w(e)}}}function V(o){let e,i,l=j(o[13])+"",t,a,f,s=I(o[13])+"",u,d,n,r,c,b,z,k;return{c(){e=p("div"),i=p("div"),t=B(l),a=F(),f=p("div"),u=B(s),d=F(),n=p("div"),r=p("a"),c=B("Download"),k=F(),g(i,"class","file-name w-5/12 p-2"),g(f,"class","file-size w-3/12 p-2"),g(r,"href",b=E(o[13])),g(r,"download",z=j(o[13])),g(r,"class","text-indigo-600 hover:underline dark:text-indigo-300"),g(n,"class","file-size w-3/12 p-2 hover:underline"),g(e,"class","flex flex-row w-full justify-between")},m(_,N){v(_,e,N),m(e,i),m(i,t),m(e,a),m(e,f),m(f,u),m(e,d),m(e,n),m(n,r),m(r,c),m(e,k)},p(_,N){N&1&&l!==(l=j(_[13])+"")&&U(t,l),N&1&&s!==(s=I(_[13])+"")&&U(u,s),N&1&&b!==(b=E(_[13]))&&g(r,"href",b),N&1&&z!==(z=j(_[13]))&&g(r,"download",z)},d(_){_&&w(e)}}}function Ae(o){let e,i,l,t,a,f,s,u,d;return{c(){e=B(o[1]),i=F(),l=p("br"),t=B("- "),a=B(o[2]),f=B(" -"),s=p("br"),u=F(),d=B(o[3])},m(n,r){v(n,e,r),v(n,i,r),v(n,l,r),v(n,t,r),v(n,a,r),v(n,f,r),v(n,s,r),v(n,u,r),v(n,d,r)},p(n,r){r&2&&U(e,n[1]),r&4&&U(a,n[2]),r&8&&U(d,n[3])},d(n){n&&w(e),n&&w(i),n&&w(l),n&&w(t),n&&w(a),n&&w(f),n&&w(s),n&&w(u),n&&w(d)}}}function De(o){let e,i,l,t,a,f,s,u,d;return{c(){e=B(o[1]),i=F(),l=p("br"),t=B("- "),a=B(o[2]),f=B(" -"),s=p("br"),u=F(),d=B(o[3])},m(n,r){v(n,e,r),v(n,i,r),v(n,l,r),v(n,t,r),v(n,a,r),v(n,f,r),v(n,s,r),v(n,u,r),v(n,d,r)},p(n,r){r&2&&U(e,n[1]),r&4&&U(a,n[2]),r&8&&U(d,n[3])},d(n){n&&w(e),n&&w(i),n&&w(l),n&&w(t),n&&w(a),n&&w(f),n&&w(s),n&&w(u),n&&w(d)}}}function Ne(o){let e,i,l,t,a,f;e=new x({props:{show_label:o[5],Icon:O,label:o[4]||"File"}});const s=[Be,ze,pe],u=[];function d(n,r){return n[0]===null&&n[6]==="single"?0:n[0]===null?1:2}return l=d(o),t=u[l]=s[l](o),{c(){C(e.$$.fragment),i=F(),t.c(),a=K()},m(n,r){M(e,n,r),v(n,i,r),u[l].m(n,r),v(n,a,r),f=!0},p(n,[r]){const c={};r&32&&(c.show_label=n[5]),r&16&&(c.label=n[4]||"File"),e.$set(c);let b=l;l=d(n),l===b?u[l].p(n,r):(J(),A(u[b],1,1,()=>{u[b]=null}),L(),t=u[l],t?t.p(n,r):(t=u[l]=s[l](n),t.c()),D(t,1),t.m(a.parentNode,a))},i(n){f||(D(e.$$.fragment,n),D(t),f=!0)},o(n){A(e.$$.fragment,n),A(t),f=!1},d(n){S(e,n),n&&w(i),u[l].d(n),n&&w(a)}}}function Ue(o,e,i){let{value:l}=e,{drop_text:t="Drop a file"}=e,{or_text:a="or"}=e,{upload_text:f="click to upload"}=e,{label:s=""}=e,{show_label:u}=e,{file_count:d}=e;async function n({detail:_}){i(0,l=_),await ne(),c("change",l),c("upload",_)}function r({detail:_}){i(0,l=null),c("change",l),c("clear")}const c=te();let b=!1;function z(_){b=_,i(7,b)}function k(_){b=_,i(7,b)}return o.$$set=_=>{"value"in _&&i(0,l=_.value),"drop_text"in _&&i(1,t=_.drop_text),"or_text"in _&&i(2,a=_.or_text),"upload_text"in _&&i(3,f=_.upload_text),"label"in _&&i(4,s=_.label),"show_label"in _&&i(5,u=_.show_label),"file_count"in _&&i(6,d=_.file_count)},o.$$.update=()=>{o.$$.dirty&128&&c("drag",b)},[l,t,a,f,s,u,d,b,n,r,z,k]}class Ce extends q{constructor(e){super(),G(this,e,Ue,Ne,H,{value:0,drop_text:1,or_text:2,upload_text:3,label:4,show_label:5,file_count:6})}}function Me(o){let e,i;return e=new he({props:{value:o[8],label:o[4],show_label:o[5],file_count:o[6]}}),{c(){C(e.$$.fragment)},m(l,t){M(e,l,t),i=!0},p(l,t){const a={};t&256&&(a.value=l[8]),t&16&&(a.label=l[4]),t&32&&(a.show_label=l[5]),t&64&&(a.file_count=l[6]),e.$set(a)},i(l){i||(D(e.$$.fragment,l),i=!0)},o(l){A(e.$$.fragment,l),i=!1},d(l){S(e,l)}}}function Se(o){let e,i;return e=new Ce({props:{label:o[4],show_label:o[5],value:o[8],file_count:o[6],drop_text:o[10]("interface.drop_file"),or_text:o[10]("or"),upload_text:o[10]("interface.click_to_upload")}}),e.$on("change",o[12]),e.$on("drag",o[13]),e.$on("change",o[14]),e.$on("clear",o[15]),e.$on("upload",o[16]),{c(){C(e.$$.fragment)},m(l,t){M(e,l,t),i=!0},p(l,t){const a={};t&16&&(a.label=l[4]),t&32&&(a.show_label=l[5]),t&256&&(a.value=l[8]),t&64&&(a.file_count=l[6]),t&1024&&(a.drop_text=l[10]("interface.drop_file")),t&1024&&(a.or_text=l[10]("or")),t&1024&&(a.upload_text=l[10]("interface.click_to_upload")),e.$set(a)},i(l){i||(D(e.$$.fragment,l),i=!0)},o(l){A(e.$$.fragment,l),i=!1},d(l){S(e,l)}}}function Ee(o){let e,i,l,t,a,f;const s=[o[7]];let u={};for(let c=0;c<s.length;c+=1)u=oe(u,s[c]);e=new ae({props:u});const d=[Se,Me],n=[];function r(c,b){return c[3]==="dynamic"?0:1}return l=r(o),t=n[l]=d[l](o),{c(){C(e.$$.fragment),i=F(),t.c(),a=K()},m(c,b){M(e,c,b),v(c,i,b),n[l].m(c,b),v(c,a,b),f=!0},p(c,b){const z=b&128?re(s,[se(c[7])]):{};e.$set(z);let k=l;l=r(c),l===k?n[l].p(c,b):(J(),A(n[k],1,1,()=>{n[k]=null}),L(),t=n[l],t?t.p(c,b):(t=n[l]=d[l](c),t.c()),D(t,1),t.m(a.parentNode,a))},i(c){f||(D(e.$$.fragment,c),D(t),f=!0)},o(c){A(e.$$.fragment,c),A(t),f=!1},d(c){S(e,c),c&&w(i),n[l].d(c),c&&w(a)}}}function Ie(o){let e,i;return e=new _e({props:{visible:o[2],variant:o[3]==="dynamic"&&o[0]===null?"dashed":"solid",color:o[9]?"green":"grey",padding:!1,elem_id:o[1],$$slots:{default:[Ee]},$$scope:{ctx:o}}}),{c(){C(e.$$.fragment)},m(l,t){M(e,l,t),i=!0},p(l,[t]){const a={};t&4&&(a.visible=l[2]),t&9&&(a.variant=l[3]==="dynamic"&&l[0]===null?"dashed":"solid"),t&512&&(a.color=l[9]?"green":"grey"),t&2&&(a.elem_id=l[1]),t&133113&&(a.$$scope={dirty:t,ctx:l}),e.$set(a)},i(l){i||(D(e.$$.fragment,l),i=!0)},o(l){A(e.$$.fragment,l),i=!1},d(l){S(e,l)}}}function Ke(o,e,i){let l;ie(o,fe,h=>i(10,l=h));let{elem_id:t=""}=e,{visible:a=!0}=e,{value:f=null}=e,{mode:s}=e,{root:u}=e,{label:d}=e,{show_label:n}=e,{file_count:r}=e,{loading_status:c}=e,b,z=!1;const k=({detail:h})=>i(0,f=h),_=({detail:h})=>i(9,z=h);function N(h){P.call(this,o,h)}function ee(h){P.call(this,o,h)}function le(h){P.call(this,o,h)}return o.$$set=h=>{"elem_id"in h&&i(1,t=h.elem_id),"visible"in h&&i(2,a=h.visible),"value"in h&&i(0,f=h.value),"mode"in h&&i(3,s=h.mode),"root"in h&&i(11,u=h.root),"label"in h&&i(4,d=h.label),"show_label"in h&&i(5,n=h.show_label),"file_count"in h&&i(6,r=h.file_count),"loading_status"in h&&i(7,c=h.loading_status)},o.$$.update=()=>{o.$$.dirty&2049&&i(8,b=ce(f,u))},[f,t,a,s,d,n,r,c,b,z,l,u,k,_,N,ee,le]}class Pe extends q{constructor(e){super(),G(this,e,Ke,Ie,H,{elem_id:1,visible:2,value:0,mode:3,root:11,label:4,show_label:5,file_count:6,loading_status:7})}}var Re=Pe;const Xe=["static","dynamic"];export{Re as Component,Xe as modes};
//# sourceMappingURL=index.b0e08fcc.js.map
