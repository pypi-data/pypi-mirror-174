(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4623],{16488:function(e,t,n){"use strict";n.d(t,{s:function(){return u}});var r=n(75568),i=n(43894),o=n(1396),a=n(12156),s=n(67294),c=n(73122),l=n(85893),u=function(e){var t=e.allColumns,n=e.selectedColumns,u=e.onChange,d=(0,s.useMemo)((function(){var e=new Map;return t.forEach((function(t){return e.set(t.name,!!n.find((function(e){return e.name===t.name})))})),e}),[t,n]),f=function(){d.forEach((function(e,t){return d.set(t,!1)})),u([])},p=function(e){var n,r=null!==(n=d.get(e.name))&&void 0!==n&&n;d.set(e.name,!r),u(t.filter((function(e){return d.get(e.name)})))};return(0,l.jsx)(r.v2,{children:function(e){var s=e.onClose;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.j2,{as:i.zx,rightIcon:(0,l.jsx)(c.mC,{}),variant:"outline",fontWeight:"normal","data-testid":"column-dropdown",children:"Columns"}),(0,l.jsx)(r.qy,{children:(0,l.jsxs)(o.xu,{px:2,children:[(0,l.jsxs)(o.xu,{display:"flex",justifyContent:"space-between",mb:2,children:[(0,l.jsx)(i.zx,{variant:"outline",size:"xs",onClick:f,"data-testid":"column-clear-btn",children:"Clear"}),(0,l.jsx)(i.zx,{size:"xs",colorScheme:"primary",onClick:s,"data-testid":"column-done-btn",children:"Done"})]}),(0,l.jsx)(a.cO,{colorScheme:"complimentary",children:(0,l.jsx)(o.Kq,{children:t.map((function(e){var t=n.filter((function(t){return t.name===e.name})).length>0;return(0,l.jsx)(a.XZ,{id:e.name,_hover:{bg:"gray.100"},isChecked:t,onChange:function(){return p(e)},"data-testid":"checkbox-".concat(e.name),children:e.name},e.name)}))})})]})})]})}})}},58144:function(e,t,n){"use strict";var r=n(23296),i=n(1396),o=n(43894),a=n(85893);t.Z=function(e){var t=e.isOpen,n=e.onClose,s=e.onConfirm,c=e.title,l=e.message;return(0,a.jsxs)(r.u_,{isOpen:t,onClose:n,size:"lg",children:[(0,a.jsx)(r.ZA,{}),(0,a.jsxs)(r.hz,{textAlign:"center",p:2,"data-testid":"confirmation-modal",children:[(0,a.jsx)(r.xB,{fontWeight:"medium",children:c}),(0,a.jsx)(r.fe,{children:l}),(0,a.jsx)(r.mz,{children:(0,a.jsxs)(i.MI,{columns:2,width:"100%",children:[(0,a.jsx)(o.zx,{variant:"outline",mr:3,onClick:n,"data-testid":"cancel-btn",children:"Cancel"}),(0,a.jsx)(o.zx,{colorScheme:"primary",onClick:s,"data-testid":"continue-btn",children:"Continue"})]})})]})]})}},99429:function(e,t,n){"use strict";n.d(t,{Y:function(){return a}});var r=n(18975),i=n(41086);r.registerLocale(i);var o=r.getNames("en",{select:"official"}),a=Object.keys(o).map((function(e){return{value:r.alpha2ToAlpha3(e),label:o[e]}}))},10846:function(e,t,n){"use strict";n.d(t,{t:function(){return d},V:function(){return f}});var r=n(59499),i=n(1396),o=n(85893);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){var t=e.message;return(0,o.jsxs)(i.xv,{"data-testid":"toast-success-msg",children:[(0,o.jsx)("strong",{children:"Success:"})," ",t]})},l=function(e){var t=e.message;return(0,o.jsxs)(i.xv,{"data-testid":"toast-error-msg",children:[(0,o.jsx)("strong",{children:"Error:"})," ",t]})},u={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},d=function(e){var t=(0,o.jsx)(c,{message:e});return s(s({},u),{description:t})},f=function(e){var t=(0,o.jsx)(l,{message:e});return s(s({},u),{description:t,status:"error"})}},39046:function(e,t,n){"use strict";n.d(t,{Xs:function(){return a},tz:function(){return s},du:function(){return c},QL:function(){return l},sg:function(){return u}});var r,i=n(59499),o=n(94053),a=[{key:"aggregated",label:"Aggregated",styles:{backgroundColor:"green.500",color:"white"}},{key:"anonymized",label:"Anonymized",styles:{backgroundColor:"yellow.400",color:"gray.700"}},{key:"aggregated.anonymized",label:"Unlinked Pseudonymized",styles:{backgroundColor:"orange.300",color:"gray.700"}},{key:"aggregated.anonymized.unlinked_pseudonymized",label:"Pseudonymized",styles:{backgroundColor:"orange.500",color:"white"}},{key:"aggregated.anonymized.unlinked_pseudonymized.pseudonymized.identified",label:"Identified",styles:{backgroundColor:"red.600",color:"white"}}],s={name:{tooltip:"A UI-friendly label for the Dataset."},description:{tooltip:"A human-readable description of the Dataset."},retention:{tooltip:"An optional string to describe the retention policy for a dataset. This field can also be applied more granularly at either the Collection or field level of a Dataset"},data_qualifiers:{tooltip:"Arrays of Data Qualifier resources, identified by fides_key, that apply to all collections in the Dataset."},data_categories:{tooltip:"Arrays of Data Category resources, identified by fides_key, that apply to all collections in the Dataset."},third_country_transfers:{tooltip:"An optional array to identify any third countries where data is transited to. For consistency purposes, these fields are required to follow the Alpha-3 code set in ISO 3166-1"}},c={description:{tooltip:"A human-readable description of the collection."},data_qualifiers:{tooltip:"Arrays of Data Qualifier resources, identified by fides_key, that apply to all fields in the collection."},data_categories:{tooltip:"Arrays of Data Category resources, identified by fides_key, that apply to all fields in the collection."}},l={description:{tooltip:"A human-readable description of the field."},data_qualifier:{tooltip:"A Data Qualifier that applies to this field. Note that this field holds a single value, therefore, the property name is singular."},data_categories:{tooltip:"Arrays of Data Category resources, identified by fides_key, that apply to this field."}},u=(r={},(0,i.Z)(r,o.Wg.PROCESSING,{title:"Processing",tooltip:"This dataset is currently being generated and classified. You will be notified when this process is complete",color:"orange"}),(0,i.Z)(r,o.Wg.CREATED,{title:"Processing",tooltip:"This dataset is currently being generated and classified. You will be notified when this process is complete",color:"orange"}),(0,i.Z)(r,o.Wg.COMPLETE,{title:"Awaiting Review",tooltip:"This dataset has been automatically classified. Review the results and update the dataset.",color:"orange"}),(0,i.Z)(r,o.Wg.REVIEWED,{title:"Classified",tooltip:"This dataset has been classified.",color:"green"}),(0,i.Z)(r,o.Wg.FAILED,{title:"Failed",tooltip:"This dataset must be manually updated.",color:"red"}),(0,i.Z)(r,"unknown",{title:"Unknown",tooltip:"This dataset must be manually updated.",color:"gray"}),r)},77046:function(e,t,n){"use strict";var r=n(59499),i=n(4730),o=n(59252),a=n(85893),s=["name","onClose"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.name,n=e.onClose,r=(0,i.Z)(e,s),c=l({backgroundColor:"primary.400",color:"white","data-testid":"taxonomy-entity-".concat(t),width:"fit-content",size:"sm"},r);return n?(0,a.jsxs)(o.Vp,l(l({display:"flex",justifyContent:"space-between"},c),{},{children:[(0,a.jsx)(o.Sn,{children:t}),(0,a.jsx)(o.SD,{onClick:n,color:"white"})]})):(0,a.jsx)(o.Vp,l(l({},c),{},{children:t}))}},45009:function(e,t,n){"use strict";n.d(t,{C:function(){return r},P:function(){return i}});var r=function e(t,n){var r;if(null==n&&t.every((function(e){return void 0===e.parent_key})))r=t;else{var i=null!==n&&void 0!==n?n:null;r=t.filter((function(e){return e.parent_key===i}))}return r.map((function(n){var r,i=n.fides_key;return{value:n.fides_key,label:""===n.name||null==n.name?n.fides_key:n.name,description:n.description,children:e(t,i),is_default:null!==(r=n.is_default)&&void 0!==r&&r}}))},i=function(e){var t=e.split(".");return 1===t.length?"":t.slice(0,t.length-1).join(".")}},83018:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ge}});var r=n(1396),i=n(77336),o=n(41664),a=n(11163),s=n(13275),c=n(38351),l=n(23597),u=n(67294),d=n(14416),f=n(16488),p=n(65028),h=n(47346),y=n(58183),b=n(50029),j=n(16835),m=n(87794),x=n.n(m),g=n(9555),v=n(52565),O=n(43894),C=n(65698),w=n(10846),k=n(94053),P=n(29112),D=n(59499),S=n(12902);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,D.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=function(e,t,n){var r=e.collections.map((function(e,r){return r===n?t:e}));return E(E({},e),{collections:r})},Z=function(e,t,n,r){var i=function(e,t,n){var r=e.fields.map((function(e,r){return r===n?t:e}));return E(E({},e),{fields:r})}(e.collections[n],t,r);return z(e,i,n)},A=function(e,t){return(0,S.ZP)(e,(function(e){var n=new Map(t.collections.map((function(e){return[e.name,e]})));e.collections.forEach((function(e){var t,r=n.get(e.name),i=new Map(null===r||void 0===r||null===(t=r.fields)||void 0===t?void 0:t.map((function(e){return[e.name,e]})));e.fields.forEach((function(e){if(!(e.data_categories&&e.data_categories.length>0)){var t=i.get(e.name);if(t&&t.classifications.length>0){var n=t.classifications.reduce((function(e,t){var n,r;return(null!==(n=e.aggregated_score)&&void 0!==n?n:0)<(null!==(r=t.aggregated_score)&&void 0!==r?r:0)?t:e}));e.data_categories=[n.label]}}}))}))}))},T=function(e,t){var n=e.collections.filter((function(e,n){return n!==t}));return E(E({},e),{collections:n})},I=n(85893),L=function(){var e=(0,d.useSelector)(P.n0),t=(0,d.useSelector)(h.Bt),n=(0,d.useSelector)(h.lG),i=(0,P.TG)(),o=(0,j.Z)(i,2),a=o[0],s=o[1].isLoading,c=(0,h.AY)(),l=(0,j.Z)(c,2),f=l[0],p=l[1].isLoading,y=s||p,m=(0,g.pm)(),D=(0,u.useMemo)((function(){var e,t;return null!==(e=null===n||void 0===n||null===(t=n.fields)||void 0===t?void 0:t.reduce((function(e,t){return t.classifications.length>0?e+1:e}),0))&&void 0!==e?e:0}),[n]),S=function(){var n=(0,b.Z)(x().mark((function n(){var r,i,o;return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!y&&e&&t){n.next=2;break}return n.abrupt("return");case 2:return r=A(e,t),n.prev=3,n.next=6,a(r);case 6:if(i=n.sent,!(0,C.D4)(i)){n.next=10;break}return m((0,w.V)((0,C.e$)(i.error))),n.abrupt("return");case 10:return n.next=12,f({dataset_fides_key:e.fides_key,status:k.Wg.REVIEWED});case 12:if(o=n.sent,!(0,C.D4)(o)){n.next=16;break}return m((0,w.V)((0,C.e$)(o.error))),n.abrupt("return");case 16:m((0,w.t)("Dataset classified and approved")),n.next=22;break;case 19:n.prev=19,n.t0=n.catch(3),m((0,w.V)("".concat(n.t0)));case 22:case"end":return n.stop()}}),n,null,[[3,19]])})));return function(){return n.apply(this,arguments)}}();return t&&n&&t.status===k.Wg.COMPLETE?(0,I.jsxs)(r.Ug,{children:[(0,I.jsxs)(v.m$.p,{fontSize:"sm",color:"gray.600",children:[(0,I.jsx)(v.m$.span,{fontWeight:"bold",children:D})," ",1===D?"field has":"fields have"," been identified within this"," ",(0,I.jsx)(v.m$.span,{fontWeight:"bold",children:n.name})," ","table that are likely to contain personal data."]}),(0,I.jsx)(O.zx,{size:"sm",variant:"primary",flexShrink:0,onClick:S,isLoading:y,isDisabled:y,"data-testid":"approve-classification-btn",children:"Approve dataset classification"})]}):null},F=n(35922),q=n(35839),M=n(59252),N=n(39046);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,D.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(e){var t=e.dataQualifierName,n=N.Xs.filter((function(e){return e.key===t}));if(0===n.length)return(0,I.jsx)(M.Vp,{children:t});var r=n[0],i=r.styles,o=r.label,a=r.key;return(0,I.jsx)(M.Vp,V(V({"data-testid":"identifiability-tag-".concat(a)},i),{},{children:o}))},R=n(77046),Q=function(e){var t=e.attribute,n=e.field,i=e.classifyField;if("data_qualifier"===t){var o=n.data_qualifier;return(0,I.jsx)(I.Fragment,{children:o?(0,I.jsx)(Y,{dataQualifierName:o}):null})}if("data_categories"===t){var a,s,c=(null!==(a=null===i||void 0===i?void 0:i.classifications)&&void 0!==a?a:[]).map((function(e){return e.label})),l=null!==(s=n.data_categories)&&void 0!==s?s:[],u=l.length>0?l:c;return(0,I.jsx)(q.u,{placement:"right",label:u===c?"Fides has generated these data categories for you. You can override them by modifying the field.":"",children:(0,I.jsx)(r.xu,{display:"inline-block",children:u.map((function(e){return(0,I.jsx)(r.xu,{mr:2,mb:2,children:(0,I.jsx)(R.Z,{name:e})},"".concat(n.name,"-").concat(e))}))})})}return(0,I.jsx)(I.Fragment,{children:n[t]})},X=n(82175),U=n(96016),G=n(64598),J=n(13230),$=n(27812),K=n(22568),B=n(75568),H=n(12156),ee=n(73122),te=function(e){var t=e.split("."),n=[];return t.forEach((function(e){var t=n.length>0?n[n.length-1]:null;t?n.push("".concat(t,".").concat(e)):n.push(e)})),n},ne=function(e,t){return e===t||!!e.startsWith("".concat(t,"."))},re=function e(t,n,r){var i=null!==r&&void 0!==r?r:[];return t.forEach((function(t){t.children&&e(t.children,n,i),ne(t.value,n)&&i.push(t)})),i},ie=function(e){var t=e.node,n=e.isChecked,i=e.onChecked,o=e.isExpanded,a=e.onExpanded,s=e.isIndeterminate,c=e.isDisabled,l=e.children,u=t.value,d=t.label,f=!!t.children&&t.children.length>0;return(0,I.jsxs)(r.xu,{children:[(0,I.jsxs)(r.xu,{display:"flex",justifyContent:"space-between",_hover:{backgroundColor:"gray.100",cursor:"pointer"},onClick:function(){return a(t)},children:[(0,I.jsx)(H.XZ,{colorScheme:"complimentary",value:u,isChecked:!s&&n,isIndeterminate:s,isDisabled:c,onChange:function(){return i(t)},mx:2,"data-testid":"checkbox-".concat(d),children:d}),f?(0,I.jsx)(O.hU,{"data-testid":"expand-".concat(d),"aria-label":o?"collapse":"expand",icon:o?(0,I.jsx)(ee.O1,{}):(0,I.jsx)(ee.mC,{}),variant:"ghost",onClick:function(){return a(t)},size:"sm"}):null]}),l&&(0,I.jsx)(r.xu,{ml:5,children:l})]})},oe=function(e){var t=e.nodes,n=e.selected,i=e.onSelected,o=(0,u.useState)([]),a=o[0],s=o[1],c=(0,u.useState)([]),l=c[0],d=c[1];(0,u.useEffect)((function(){var e=n.map((function(e){return te(e)})).reduce((function(e,t){return e.concat(t)}),[]),r=n.map((function(e){return re(t,e)})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return e.value})),i=Array.from(new Set([].concat((0,$.Z)(e),(0,$.Z)(r))));d(i),s(i)}),[n,t]);var f=function(e){var r=[],o=[];if(a.indexOf(e.value)>=0)r=a.filter((function(t){return!ne(t,e.value)})),o=n.filter((function(t){return!ne(t,e.value)}));else{var c=re(t,e.value).map((function(e){return e.value}));r=[].concat((0,$.Z)(a),(0,$.Z)(c)),o=[].concat((0,$.Z)(n),[e.value])}s(r),i(o)},p=function(e){l.indexOf(e.value)>=0?d(l.filter((function(t){return!ne(t,e.value)}))):d([].concat((0,$.Z)(l),[e.value]))},h=function e(r){if(r.children){var i=a.indexOf(r.value)>=0,o=l.indexOf(r.value)>=0,s=re(t,r.value),c=i&&r.children.length>0&&a.filter((function(e){return e.startsWith("".concat(r.value,"."))})).length+1!==s.length,d=function(e,t){var n=te(t).filter((function(e){return e!==t}));return e.filter((function(e){return n.includes(e)})).length>0}(n,r.value);return(0,I.jsx)(ie,{node:r,isChecked:i,onChecked:f,isExpanded:o,onExpanded:p,isDisabled:d,isIndeterminate:c,children:o&&r.children.map((function(t){return(0,I.jsx)(u.Fragment,{children:e(t)},t.value)}))})}return null};return(0,I.jsx)(r.xu,{children:t.map((function(e){return(0,I.jsx)(r.xu,{children:h(e)},e.value)}))})},ae=n(45009);function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){(0,D.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le=function(e){var t=e.dataCategories,n=e.checked,i=e.onChecked,o=e.buttonProps,a=e.buttonLabel,s=(0,u.useMemo)((function(){return(0,ae.C)(t)}),[t]),c={variant:"outline",fontWeight:"normal",size:"sm",borderRadius:"sm",textAlign:"left",_hover:{backgroundColor:"transparent"},_active:{backgroundColor:"transparent"},rightIcon:(0,I.jsx)(ee.mC,{}),width:"100%"},l=null!==o&&void 0!==o?o:c,d=null!==a&&void 0!==a?a:"Select data categories";return(0,I.jsxs)(B.v2,{closeOnSelect:!0,children:[(0,I.jsx)(B.j2,ce(ce({as:O.zx},l),{},{"data-testid":"data-category-dropdown",children:d})),(0,I.jsx)(B.qy,{children:(0,I.jsxs)(r.xu,{maxHeight:"50vh",minWidth:"300px",overflowY:"scroll",children:[(0,I.jsxs)(r.xu,{position:"sticky",top:0,zIndex:1,backgroundColor:"white",pt:1,children:[(0,I.jsx)(B.__,{children:(0,I.jsxs)(r.xu,{display:"flex",justifyContent:"space-between",px:2,mb:2,children:[(0,I.jsx)(B.sN,{as:O.zx,variant:"outline",size:"xs",onClick:function(){return i([])},mr:2,width:"auto",closeOnSelect:!1,"data-testid":"data-category-clear-btn",children:"Clear"}),(0,I.jsx)(r.xv,{mr:2,children:"Data Categories"}),(0,I.jsx)(B.sN,{as:O.zx,size:"xs",colorScheme:"primary",color:"white",_hover:{backgroundColor:"primary.600"},width:"auto","data-testid":"data-category-done-btn",children:"Done"})]})}),(0,I.jsx)(B.R,{})]}),(0,I.jsx)(r.xu,{px:2,"data-testid":"data-category-checkbox-tree",children:(0,I.jsx)(oe,{nodes:s,selected:n,onSelected:i})})]})})]})};function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){(0,D.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe=function(e){var t=e.mostLikelyCategories,n=e.onChecked,i=e.checked,o=e.dataCategories,a=(0,u.useMemo)((function(){return o.map((function(e){var n=t.find((function(t){return t.fides_key===e.fides_key}));return n||de(de({},e),{},{confidence:void 0})}))}),[t,o]).sort((function(e,t){return void 0!==e.confidence&&void 0!==t.confidence?t.confidence-e.confidence:void 0===e.confidence?1:void 0===t.confidence?-1:e.fides_key.localeCompare(t.fides_key)})).map((function(e){var t=void 0===e.confidence?"N/A":"".concat((100*e.confidence).toFixed(),"%");return{label:"".concat(e.fides_key," (").concat(t,")"),value:e.fides_key}})),s=a.filter((function(e){return i.indexOf(e.value)>=0}));return(0,I.jsxs)(r.xu,{display:"flex",children:[(0,I.jsx)(r.xu,{children:(0,I.jsx)(le,{dataCategories:o,checked:i,onChecked:n,buttonProps:{size:"sm",colorScheme:"complimentary",borderRadius:"6px 0px 0px 6px"},buttonLabel:"Search taxonomy"})}),(0,I.jsx)(r.xu,{flexGrow:1,"data-testid":"classified-select",children:(0,I.jsx)(K.Z,{options:a,onChange:function(e){var t,r=s.map((function(e){return e.value})),o=e.map((function(e){return e.value}));if(o.length>r.length){var a=o.filter((function(e){return-1===r.indexOf(e)}))[0];t=[].concat((0,$.Z)(i),[a])}else{var c=r.filter((function(e){return-1===o.indexOf(e)}))[0];t=i.filter((function(e){return e!==c}))}n(t)},value:s,size:"sm",placeholder:"Select from recommendations...",chakraStyles:{dropdownIndicator:function(e){return de(de({},e),{},{bg:"transparent",px:2,cursor:"inherit"})},indicatorSeparator:function(e){return de(de({},e),{},{display:"none"})},multiValue:function(e){return de(de({},e),{},{background:"primary.400",color:"white"})}},components:{ClearIndicator:function(){return null}},isSearchable:!0,isClearable:!0,isMulti:!0,instanceId:"classified-data-category-input-multiselect"})})]})},pe=function(e){var t=e.dataCategories,n=e.mostLikelyCategories,i=e.checked,o=e.onChecked,a=e.tooltip,s=i.slice().sort((function(e,t){return e.localeCompare(t)}));return(0,I.jsxs)(r.rj,{templateColumns:"1fr 3fr",children:[(0,I.jsx)(G.lX,{children:"Data Categories"}),n?(0,I.jsxs)(r.xu,{display:"flex",alignItems:"center",children:[(0,I.jsx)(r.xu,{mr:"2",width:"100%",children:(0,I.jsx)(fe,{dataCategories:t,mostLikelyCategories:n,checked:i,onChecked:o})}),(0,I.jsx)(J.Z,{label:a})]}):(0,I.jsxs)(r.Kq,{children:[(0,I.jsxs)(r.xu,{display:"flex",alignItems:"center",children:[(0,I.jsx)(r.xu,{mr:"2",width:"100%",children:(0,I.jsx)(le,{dataCategories:t,checked:i,onChecked:o})}),(0,I.jsx)(J.Z,{label:a})]}),(0,I.jsx)(r.Kq,{"data-testid":"selected-categories",children:s.map((function(e){return(0,I.jsx)(R.Z,{name:e,onClose:function(){var t;t=e,o(i.filter((function(e){return e!==t})))}},e)}))})]})]})};function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,D.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=N.Xs.map((function(e){return{value:e.key,label:e.label}})),je=function(e){var t,n,i=e.values,o=e.onClose,a=e.onSubmit,s=e.dataType,c={description:null!==(t=i.description)&&void 0!==t?t:"",data_qualifier:i.data_qualifier,data_categories:i.data_categories},l=(0,d.useSelector)(y.qb),f=(0,u.useState)(null!==(n=c.data_categories)&&void 0!==n?n:[]),p=f[0],b=f[1],j=(0,d.useSelector)(h.t6),m=(0,u.useMemo)((function(){if(l&&j){var e=new Map(l.map((function(e){return[e.fides_key,e]})));return j.classifications.map((function(t){var n=t.label;return ye({fides_key:n,confidence:t.aggregated_score},e.get(n))}))}}),[l,j]),x="collection"===s?N.du.description.tooltip:N.QL.description.tooltip,g="collection"===s?N.du.data_qualifiers.tooltip:N.QL.data_qualifier.tooltip,v="collection"===s?N.du.data_categories.tooltip:N.QL.data_categories.tooltip;return(0,I.jsx)(X.J9,{initialValues:c,onSubmit:function(e){var t=ye(ye({},e),{data_categories:p});a(t)},children:(0,I.jsx)(X.l0,{children:(0,I.jsxs)(r.xu,{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"75vh",children:[(0,I.jsxs)(r.Kq,{children:[(0,I.jsx)(U.j0,{name:"description",label:"Description",tooltip:x,"data-testid":"description-input"}),(0,I.jsx)(U.AP,{name:"data_qualifier",label:"Identifiability",options:be,tooltip:g,isSearchable:!1,"data-testid":"identifiability-input"}),(0,I.jsx)(pe,{dataCategories:l,mostLikelyCategories:m,checked:p,onChecked:b,tooltip:v})]}),(0,I.jsxs)(r.xu,{children:[(0,I.jsx)(O.zx,{onClick:o,mr:2,size:"sm",variant:"outline",children:"Cancel"}),(0,I.jsx)(O.zx,{type:"submit",colorScheme:"primary",size:"sm","data-testid":"save-btn",children:"Save"})]})]})})})},me=n(20650),xe=n(23296),ge=n(58144),ve=function(e){var t=e.header,n=e.description,i=e.isOpen,o=e.onClose,a=e.onDelete,s=e.deleteTitle,c=e.deleteMessage,l=e.children,u=(0,me.qY)(),d=u.isOpen,f=u.onOpen,p=u.onClose;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(xe.dy,{placement:"right",isOpen:i,onClose:o,size:"lg",children:[(0,I.jsx)(xe.P1,{}),(0,I.jsx)(xe.sc,{"data-testid":"edit-drawer-content",children:(0,I.jsxs)(r.xu,{py:2,children:[(0,I.jsx)(r.xu,{display:"flex",justifyContent:"flex-end",mr:2,children:(0,I.jsx)(O.zx,{variant:"ghost",onClick:o,children:(0,I.jsx)(ee.LG,{})})}),(0,I.jsxs)(xe.OX,{py:2,display:"flex",alignItems:"center",children:[(0,I.jsx)(r.xv,{mr:"2",children:t}),(0,I.jsx)(O.hU,{"aria-label":"delete",icon:(0,I.jsx)(ee.lr,{}),size:"xs",onClick:f,"data-testid":"delete-btn"})]}),(0,I.jsxs)(xe.Ng,{children:[(0,I.jsx)(r.xv,{fontSize:"sm",mb:4,children:n}),l]})]})})]}),(0,I.jsx)(ge.Z,{isOpen:d,onClose:p,onConfirm:a,title:s,message:c})]})};function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){(0,D.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we,ke=function(e){var t=e.field,n=e.isOpen,i=e.onClose,o=(0,d.useSelector)(P.n0),a=(0,d.useSelector)(P.gR),s=(0,d.useSelector)(P.mZ),c=(0,P.TG)(),l=(0,j.Z)(c,1)[0];return(0,I.jsx)(ve,{isOpen:n,onClose:i,header:"Field Name: ".concat(t.name),description:"Fields are an array of objects that describe the collection's fields. Provide additional context to this field by filling out the fields below.",onDelete:function(){if(o&&void 0!==a&&void 0!==s){var e=function(e,t,n){var r=e.collections[t],i=r.fields.filter((function(e,t){return t!==n})),o=E(E({},r),{fields:i});return z(e,o,t)}(o,a,s);l(e),i()}},deleteTitle:"Delete Field",deleteMessage:(0,I.jsxs)(r.xv,{children:["You are about to permanently delete the field named"," ",(0,I.jsx)(r.xv,{color:"complimentary.500",as:"span",fontWeight:"bold",children:t.name})," ","from this dataset. Are you sure you would like to continue?"]}),children:(0,I.jsx)(je,{values:t,onClose:i,onSubmit:function(e){if(o&&void 0!==a&&void 0!==s){var n=Ce(Ce({},t),e),r=Z(o,n,a,s);l(r),i()}},dataType:"field"})})};!function(e){e.DATASET="dataset",e.COLLECTION="collection",e.FIELD="field"}(we||(we={}));var Pe=function(e){var t=e.columns,n=(0,d.useDispatch)(),i=(0,d.useSelector)(P.pD),o=(0,d.useSelector)(P.FJ),a=(0,d.useSelector)(P.U3),s=(0,d.useSelector)(h.a$),c=function(e){n((0,P.EQ)(e)),n((0,P.JY)(we.FIELD))};return(0,I.jsxs)(r.xu,{children:[(0,I.jsxs)(F.iA,{size:"sm","data-testid":"dataset-fields-table",children:[(0,I.jsx)(F.hr,{children:(0,I.jsx)(F.Tr,{children:t.map((function(e){return(0,I.jsx)(F.Th,{pl:0,"data-testid":"column-".concat(e.name),children:e.name},e.name)}))})}),(0,I.jsx)(F.p3,{children:(null!==i&&void 0!==i?i:[]).map((function(e,n){return(0,I.jsx)(F.Tr,{_hover:{bg:"gray.50"},cursor:"pointer",onClick:function(){return c(n)},tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&c(n)},"data-testid":"field-row-".concat(e.name),children:t.map((function(t){return(0,I.jsx)(F.Td,{pl:0,children:(0,I.jsx)(Q,{field:e,classifyField:s.get(e.name),attribute:t.attribute})},"".concat(t.name,"-").concat(e.name))}))},e.name)}))})]}),o?(0,I.jsx)(ke,{isOpen:a===we.FIELD,onClose:function(){n((0,P.EQ)(void 0)),n((0,P.JY)(void 0))},field:o}):null]})},De=function(){var e,t=(0,d.useSelector)(h.Bt),n=null!==(e=null===t||void 0===t?void 0:t.status)&&void 0!==e?e:k.Wg.REVIEWED,i=(0,u.useMemo)((function(){var e,n;return null!==(e=null===t||void 0===t||null===(n=t.collections)||void 0===n?void 0:n.reduce((function(e,t){return e+t.fields.reduce((function(e,t){return t.classifications.length>0?e+1:e}),0)}),0))&&void 0!==e?e:0}),[t]),o=0===i?"Fides did not identify any fields that are likely to contain personal data, but there may be some.":1===i?"Fides identified a field that is likely to contain personal data.":"Fides identified ".concat(i," fields that are likely to contain personal data.");return(0,I.jsx)(r.gC,{align:"left",mb:6,children:n===k.Wg.COMPLETE?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(r.Ug,{children:[(0,I.jsx)(r.X6,{fontSize:"2xl",children:"Dataset classification ready for review"}),(0,I.jsx)(ee.sc,{fontSize:"2xl"})]}),(0,I.jsxs)(r.xv,{fontSize:"sm",color:"gray.600",maxW:"720px",children:[o," Please confirm all dataset fields to finish annotating this system. For each table, please review the recommended data categories. You can accept the automated suggestions, or update any field as appropriate before approving."]})]}):(0,I.jsx)(r.X6,{fontSize:"2xl",children:"Dataset"})})};function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){(0,D.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee=function(e){var t=e.collection,n=e.isOpen,i=e.onClose,o=(0,d.useSelector)(P.n0),a=(0,d.useSelector)(P.gR),s=(0,P.TG)(),c=(0,j.Z)(s,1)[0],l=(0,g.pm)(),u=function(){var e=(0,b.Z)(x().mark((function e(n){var r,s;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||void 0===a){e.next=13;break}return r=_e(_e({},t),n),s=z(o,r,a),e.prev=3,e.next=6,c(s);case 6:l((0,w.t)("Successfully modified collection")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),l((0,w.V)(e.t0));case 12:i();case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,b.Z)(x().mark((function e(){var t,n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||void 0===a){e.next=14;break}return t=T(o,a),e.prev=2,e.next=5,c(t);case 5:l((0,w.t)("Successfully deleted collection")),n=o.collections.length>0?0:void 0,(0,P.Fy)(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),l((0,w.V)(e.t0));case 13:i();case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return(0,I.jsx)(ve,{isOpen:n,onClose:i,description:"Collections are an array of objects that describe the Dataset's collections. Provide additional context to this collection by filling out the fields below.",header:"Collection Name: ".concat(t.name),onDelete:f,deleteTitle:"Delete Collection",deleteMessage:(0,I.jsxs)(r.xv,{children:["You are about to permanently delete the collection named"," ",(0,I.jsx)(r.xv,{color:"complimentary.500",as:"span",fontWeight:"bold",children:t.name})," ","from this dataset. Are you sure you would like to continue?"]}),children:(0,I.jsx)(je,{values:t,onClose:i,onSubmit:u,dataType:"collection"})})},ze=n(99429);function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){(0,D.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Te=N.Xs.map((function(e){return{label:e.label,value:e.key}})),Ie=function(e){var t,n,i,o,a,s=e.values,c=e.onClose,l=e.onSubmit,f={name:null!==(t=s.name)&&void 0!==t?t:"",description:null!==(n=s.description)&&void 0!==n?n:"",retention:null!==(i=s.retention)&&void 0!==i?i:"",data_qualifier:s.data_qualifier,third_country_transfers:null!==(o=s.third_country_transfers)&&void 0!==o?o:[],data_categories:s.data_categories},p=(0,d.useSelector)(y.qb),h=(0,u.useState)(null!==(a=f.data_categories)&&void 0!==a?a:[]),b=h[0],j=h[1];return(0,I.jsx)(X.J9,{initialValues:f,onSubmit:function(e){var t=Ae(Ae({},e),{data_categories:b});l(t)},children:(0,I.jsx)(X.l0,{children:(0,I.jsxs)(r.xu,{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"75vh",children:[(0,I.jsxs)(r.Kq,{spacing:"3",children:[(0,I.jsx)(U.j0,{name:"name",label:"Name",tooltip:N.tz.name.tooltip,"data-testid":"name-input"}),(0,I.jsx)(U.j0,{name:"description",label:"Description",tooltip:N.tz.description.tooltip,"data-testid":"description-input"}),(0,I.jsx)(U.j0,{name:"retention",label:"Retention period",tooltip:N.tz.retention.tooltip,"data-testid":"retention-input"}),(0,I.jsx)(U.AP,{name:"data_qualifier",label:"Identifiability",options:Te,tooltip:N.tz.data_qualifiers.tooltip,"data-testid":"identifiability-input"}),(0,I.jsx)(U.Fs,{name:"third_country_transfers",label:"Geographic location",tooltip:N.tz.third_country_transfers.tooltip,isSearchable:!0,options:ze.Y,"data-testid":"geography-input"}),(0,I.jsx)(pe,{dataCategories:p,checked:b,onChecked:j,tooltip:N.tz.data_categories.tooltip})]}),(0,I.jsxs)(r.xu,{children:[(0,I.jsx)(O.zx,{onClick:c,mr:2,size:"sm",variant:"outline",children:"Cancel"}),(0,I.jsx)(O.zx,{type:"submit",colorScheme:"primary",size:"sm","data-testid":"save-btn",children:"Save"})]})]})})})};function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){(0,D.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qe=function(e){var t=e.dataset,n=e.isOpen,i=e.onClose,o=(0,P.TG)(),s=(0,j.Z)(o,1)[0],c=(0,P.QY)(),l=(0,j.Z)(c,1)[0],u=(0,a.useRouter)(),d=(0,g.pm)(),f=function(){var e=(0,b.Z)(x().mark((function e(n){var r,o;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fe(Fe({},t),n),e.prev=1,e.next=4,s(r);case 4:o=e.sent,(0,C.D4)(o)?d((0,w.V)((0,C.e$)(o.error))):d((0,w.t)("Successfully modified dataset")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),d((0,w.V)(e.t0));case 11:i();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,b.Z)(x().mark((function e(){var n,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fides_key,e.next=3,l(n);case 3:r=e.sent,(0,C.D4)(r)?d((0,w.V)((0,C.e$)(r.error))):d((0,w.t)("Successfully deleted dataset")),(0,P.Zl)(void 0),u.push("/dataset"),i();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,I.jsx)(ve,{isOpen:n,onClose:i,description:"A Dataset takes a database schema (tables and columns) and adds Fides privacy categorizations. Provide additional context to this dataset by filling out the fields below.",header:"Dataset Name: ".concat(t.name),onDelete:p,deleteMessage:(0,I.jsxs)(r.xv,{children:["You are about to permanently delete the dataset named"," ",(0,I.jsx)(r.xv,{color:"complimentary.500",as:"span",fontWeight:"bold",children:t.name}),". Are you sure you would like to continue?"]}),deleteTitle:"Delete Dataset",children:(0,I.jsx)(Ie,{values:t,onClose:i,onSubmit:f})})},Me=n(4730),Ne=n(81555),We=["children","isDisabled","onClick"];function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){(0,D.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Re=function(e){var t=e.children,n=e.isDisabled,r=e.onClick,i=(0,Me.Z)(e,We);return(0,I.jsx)(B.sN,Ye(Ye({isDisabled:n,_hover:{backgroundColor:"gray.100"},fontSize:"sm",onClick:r},i),{},{children:t}))},Qe=function(e){var t=e.onModifyCollection,n=e.onModifyDataset;return(0,I.jsxs)(B.v2,{size:"sm",children:[(0,I.jsx)(B.j2,{as:O.zx,variant:"outline","data-testid":"more-actions-btn",children:(0,I.jsx)(Ne.Z,{})}),(0,I.jsxs)(B.qy,{children:[(0,I.jsxs)(B.kS,{title:"Collections",color:"gray.500",textTransform:"uppercase",mx:3,children:[(0,I.jsx)(B.R,{}),(0,I.jsx)(Re,{isDisabled:!0,children:"Add a collection"}),(0,I.jsx)(Re,{onClick:t,"data-testid":"modify-collection",children:"Modify collection"})]}),(0,I.jsxs)(B.kS,{title:"Datasets",color:"gray.500",textTransform:"uppercase",mx:3,children:[(0,I.jsx)(B.R,{}),(0,I.jsx)(Re,{children:(0,I.jsx)(o.default,{href:"/dataset",children:"Select new dataset"})}),(0,I.jsx)(Re,{isDisabled:!0,children:"Classify this dataset"}),(0,I.jsx)(Re,{onClick:n,"data-testid":"modify-dataset",children:"Modify dataset"})]})]})]})},Xe=[{name:"Field Name",attribute:"name"},{name:"Description",attribute:"description"},{name:"Identifiability",attribute:"data_qualifier"},{name:"Personal Data Categories",attribute:"data_categories"}],Ue=function(e){var t=e.fidesKey,n=(0,d.useDispatch)(),i=function(e){var t=(0,P.oM)(e),n=t.data,r=t.isLoading,i=(0,p.h)(),o=(0,h.Tc)(e,{skip:!i.plus}).isLoading;return(0,y.MO)(),{isLoading:r||o,dataset:n}}(t),o=i.dataset,a=i.isLoading,s=(0,d.useSelector)(P.fQ),b=(0,d.useSelector)(P.Jb),j=(0,d.useSelector)(P.U3),m=(0,u.useState)(Xe),x=m[0],g=m[1];(0,y.MO)(),(0,u.useEffect)((function(){o&&n((0,P.Zl)(o.fides_key))}),[n,o]),(0,u.useEffect)((function(){return function(){n((0,P.Zl)(void 0))}}),[]);return a?(0,I.jsx)(c.$,{}):o?(0,I.jsxs)(r.xu,{children:[(0,I.jsx)(De,{}),(0,I.jsxs)(r.Ug,{mb:4,justifyContent:"space-between",children:[(0,I.jsx)(l.Ph,{onChange:function(e){n((0,P.Fy)(e.target.selectedIndex))},mr:2,width:"auto","data-testid":"collection-select",children:(null!==s&&void 0!==s?s:[]).map((function(e){return(0,I.jsx)("option",{value:e.name,children:e.name},e.name)}))}),(0,I.jsx)(L,{}),(0,I.jsxs)(r.Ug,{children:[(0,I.jsx)(r.xu,{children:(0,I.jsx)(f.s,{allColumns:Xe,selectedColumns:x,onChange:g})}),(0,I.jsx)(Qe,{onModifyCollection:function(){return n((0,P.JY)(we.COLLECTION))},onModifyDataset:function(){return n((0,P.JY)(we.DATASET))}})]})]}),(0,I.jsx)(Pe,{columns:x}),b?(0,I.jsx)(Ee,{collection:b,isOpen:j===we.COLLECTION,onClose:function(){return n((0,P.JY)(void 0))}}):null,o?(0,I.jsx)(qe,{dataset:o,isOpen:j===we.DATASET,onClose:function(){return n((0,P.JY)(void 0))}}):null]}):(0,I.jsx)("div",{children:"Dataset not found"})},Ge=function(){var e=(0,a.useRouter)().query.id;if(!e)return(0,I.jsx)(s.Z,{title:"Dataset",children:"Dataset not found"});var t=Array.isArray(e)?e[0]:e;return(0,I.jsxs)(s.Z,{title:"Dataset - ".concat(e),children:[(0,I.jsx)(r.xu,{mb:6,children:(0,I.jsxs)(i.aG,{fontWeight:"medium",fontSize:"sm",color:"gray.600",children:[(0,I.jsx)(i.gN,{children:(0,I.jsx)(o.default,{href:"/dataset",children:"Datasets"})}),(0,I.jsx)(i.gN,{children:(0,I.jsx)(o.default,{href:"#",children:e})})]})}),(0,I.jsx)(Ue,{fidesKey:t})]})}},37035:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dataset/[id]",function(){return n(83018)}])}},function(e){e.O(0,[7801,1599,636,7906,9555,2175,3296,2156,5134,3157,4357,3275,7080,9774,2888,179],(function(){return t=37035,e(e.s=t);var t}));var t=e.O();_N_E=t}]);