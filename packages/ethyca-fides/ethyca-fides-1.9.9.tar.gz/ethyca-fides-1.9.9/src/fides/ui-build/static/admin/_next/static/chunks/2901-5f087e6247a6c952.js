(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2901],{77336:function(e,r,n){"use strict";n.d(r,{aG:function(){return g},gN:function(){return h},At:function(){return m}});var t=n(52565),a=n(89816),s=n(40125),i=n(67294);function c(){return c=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},c.apply(this,arguments)}function o(e,r){if(null==e)return{};var n,t,a={},s=Object.keys(e);for(t=0;t<s.length;t++)n=s[t],r.indexOf(n)>=0||(a[n]=e[n]);return a}var l=["spacing"],u=["isCurrentPage","as","className","href"],d=["isCurrentPage","separator","isLastChild","spacing","children","className"],p=["children","spacing","separator","className"],f=(0,t.Gp)((function(e,r){var n=e.spacing,a=o(e,l),s=c({mx:n},(0,t.yK)().separator);return i.createElement(t.m$.span,c({ref:r,role:"presentation"},a,{__css:s}))}));a.Ts&&(f.displayName="BreadcrumbSeparator");var m=(0,t.Gp)((function(e,r){var n=e.isCurrentPage,s=e.as,l=e.className,d=e.href,p=o(e,u),f=(0,t.yK)(),m=c({ref:r,as:s,className:(0,a.cx)("chakra-breadcrumb__link",l)},p);return n?i.createElement(t.m$.span,c({"aria-current":"page",__css:f.link},m)):i.createElement(t.m$.a,c({__css:f.link,href:d},m))}));a.Ts&&(m.displayName="BreadcrumbLink");var h=(0,t.Gp)((function(e,r){var n=e.isCurrentPage,l=e.separator,u=e.isLastChild,p=e.spacing,h=e.children,g=e.className,v=o(e,d),b=(0,s.WR)(h).map((function(e){return e.type===m?i.cloneElement(e,{isCurrentPage:n}):e.type===f?i.cloneElement(e,{spacing:p,children:e.props.children||l}):e})),x=c({display:"inline-flex",alignItems:"center"},(0,t.yK)().item),j=(0,a.cx)("chakra-breadcrumb__list-item",g);return i.createElement(t.m$.li,c({ref:r,className:j},v,{__css:x}),b,!u&&i.createElement(f,{spacing:p},l))}));a.Ts&&(h.displayName="BreadcrumbItem");var g=(0,t.Gp)((function(e,r){var n=(0,t.jC)("Breadcrumb",e),l=(0,t.Lr)(e),u=l.children,d=l.spacing,f=void 0===d?"0.5rem":d,m=l.separator,h=void 0===m?"/":m,g=l.className,v=o(l,p),b=(0,s.WR)(u),x=b.length,j=b.map((function(e,r){return i.cloneElement(e,{separator:h,spacing:f,isLastChild:x===r+1})})),y=(0,a.cx)("chakra-breadcrumb",g);return i.createElement(t.m$.nav,c({ref:r,"aria-label":"breadcrumb",className:y,__css:n.container},v),i.createElement(t.Fo,{value:n},i.createElement(t.m$.ol,{className:"chakra-breadcrumb__list"},j)))}));a.Ts&&(g.displayName="Breadcrumb")},69699:function(e,r,n){"use strict";var t=n(11163),a=n(14416),s=n(18459),i=n(65648),c=n(69110),o=function(e){var r=e.children,n=e.redirectUrl,o=e.authenticatedBlock,l=function(e){var r=(0,t.useRouter)(),n=(0,a.useDispatch)(),o=(0,a.useSelector)(c.rK),l=(0,a.useSelector)(c.dy),u=null===l||void 0===l?void 0:l.id,d=(0,i.gU)(u,{pollingInterval:s.Dk,skip:!u});return o&&u&&!d.isError?d.isSuccess:(n((0,c.kS)()),r.push(e),!1)}(n);return l?r:o};o.defaultProps={authenticatedBlock:null,redirectUrl:s._e},r.Z=o},65698:function(e,r,n){"use strict";n.d(r,{D4:function(){return a.D4},e$:function(){return i},FM:function(){return c},Ot:function(){return o},tB:function(){return l},nU:function(){return u},MM:function(){return d}});var t=n(56661),a=n(27396),s="An unexpected error occurred. Please try again.",i=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if((0,a.Bw)(e)){if((0,a.hE)(e.data))return e.data.detail;if((0,a.cz)(e.data)){var n,t=null===(n=e.data.detail)||void 0===n?void 0:n[0];return"".concat(null===t||void 0===t?void 0:t.msg,": ").concat(null===t||void 0===t?void 0:t.loc)}if(409===e.status&&(0,a.Dy)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")");if(404===e.status&&(0,a.XD)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")")}return r},c=function(e){return(0,t.Ln)({name:"string"},e)&&"YAMLException"===e.name};function o(e){return"object"===typeof e&&null!=e&&"data"in e&&"string"===typeof e.data.detail}function l(e){return"object"===typeof e&&null!=e&&"data"in e&&Array.isArray(e.data.detail)}var u=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:s};if((0,a.oK)(e))return{status:e.originalStatus,message:e.data};if((0,a.Bw)(e)){var n=e.status;return{status:n,message:i(e,r.message)}}return r},d=function(e){return Object.entries(e).map((function(e){return{value:e[1],label:e[1]}}))}},70783:function(e,r,n){"use strict";n.d(r,{HK:function(){return s},VY:function(){return t.V}});var t=n(63719),a=n(65698),s=function(){var e=(0,t.V)().errorAlert;return{handleError:function(r){var n="An unexpected error occurred. Please try again.";(0,a.Ot)(r)?n=r.data.detail:(0,a.tB)(r)&&(n=r.data.detail[0].msg),e(n)}}};n(67294)},63719:function(e,r,n){"use strict";n.d(r,{V:function(){return d}});var t=n(59499),a=n(9555),s=n(34532),i=n(1396),c=n(46995),o=n(85893);function l(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function u(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?l(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var d=function(){var e=(0,a.pm)();return{errorAlert:function(r,n,t){e(u(u({},t),{},{position:(null===t||void 0===t?void 0:t.position)||"top",render:function(e){var t=e.onClose;return(0,o.jsxs)(s.bZ,{alignItems:"normal",status:"error",children:[(0,o.jsx)(s.zM,{}),(0,o.jsxs)(i.xu,{children:[n&&(0,o.jsx)(s.Cd,{children:n}),(0,o.jsx)(s.X,{children:r})]}),(0,o.jsx)(c.P,{onClick:t,position:"relative",right:0,size:"sm",top:-1})]})}}))},successAlert:function(r,n,t){e(u(u({},t),{},{position:(null===t||void 0===t?void 0:t.position)||"top",render:function(e){var t=e.onClose;return(0,o.jsxs)(s.bZ,{alignItems:"normal",status:"success",variant:"subtle",children:[(0,o.jsx)(s.zM,{}),(0,o.jsxs)(i.xu,{children:[n&&(0,o.jsx)(s.Cd,{children:n}),(0,o.jsx)(s.X,{children:r})]}),(0,o.jsx)(c.P,{onClick:t,position:"relative",right:0,size:"sm",top:-1})]})}}))}}}},19461:function(e,r,n){"use strict";n.d(r,{Z:function(){return q}});var t=n(27812),a=n(50029),s=n(16835),i=n(87794),c=n.n(i),o=n(1396),l=n(12156),u=n(43894),d=n(70783),p=n(82175),f=n(41664),m=n(11163),h=n(74231),g=n(18459),v=n(59499),b=n(4730),x=n(64598),j=n(7906),y=n(73122),w=n(67294),O=n(85893),P=["label","disabled"];function _(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function C(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?_(Object(n),!0).forEach((function(r){(0,v.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var k=function(e){var r=e.label,n=e.disabled,t=(0,b.Z)(e,P),a=(0,p.U$)(t),i=(0,s.Z)(a,2),c=i[0],l=i[1],d=t.type,f=t.placeholder,m=!(!l.touched||!l.error),h="password"===d,g=(0,w.useState)(h?"password":"text"),v=g[0],_=g[1];return(0,O.jsxs)(x.NI,{isInvalid:m,children:[(0,O.jsx)(x.lX,{htmlFor:t.id||t.name,fontWeight:"medium",children:r}),(0,O.jsx)(o.xu,{display:"flex",alignItems:"center",children:(0,O.jsxs)(j.BZ,{mr:"2",children:[(0,O.jsx)(j.II,C(C({},c),{},{"data-testid":"input-".concat(c.name),type:v,placeholder:f,pr:h?"10":"3",focusBorderColor:"primary.500",isDisabled:n})),h?(0,O.jsx)(j.xH,{pr:"2",children:(0,O.jsx)(u.hU,{size:"xs",variant:"unstyled","aria-label":"Reveal/Hide Secret",icon:(0,O.jsx)(y.tE,{boxSize:"full",color:"password"===v?"gray.400":"gray.700"}),onClick:function(){return _("password"===v?"text":"password")}})}):null]})}),m?(0,O.jsx)(x.J1,{children:l.error}):null]})},E=n(20650),S=n(23296),Z=n(43072);function N(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function z(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?N(Object(n),!0).forEach((function(r){(0,v.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var D=function(e){var r=function(e){var r=(0,E.qY)(),n=(0,w.useState)(""),t=n[0],i=n[1],o=(0,w.useState)(""),l=o[0],u=o[1],d=(0,Z.ev)(),p=(0,s.Z)(d,2),f=p[0],m=p[1].isLoading,h=!!(e&&l&&t),g=function(){var n=(0,a.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:h&&f({id:e,old_password:t,new_password:l}).unwrap().then((function(){return r.onClose()}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return z(z({},r),{},{changePasswordValidation:h,handleChange:function(e){"oldPassword"===e.target.name?i(e.target.value):u(e.target.value)},handleChangePassword:g,isLoading:m,newPasswordValue:l,oldPasswordValue:t})}(e.id),n=r.changePasswordValidation,t=r.handleChange,i=r.handleChangePassword,l=r.isLoading,d=r.isOpen,p=r.newPasswordValue,f=r.oldPasswordValue,m=r.onClose,h=r.onOpen;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(u.zx,{bg:"primary.800",_hover:{bg:"primary.400"},_active:{bg:"primary.500"},colorScheme:"primary",maxWidth:"40%",size:"sm",onClick:h,children:"Update Password"}),(0,O.jsxs)(S.u_,{isCentered:!0,isOpen:d,onClose:m,children:[(0,O.jsx)(S.ZA,{}),(0,O.jsxs)(S.hz,{children:[(0,O.jsx)(S.xB,{children:"Update Password"}),(0,O.jsx)(S.ol,{}),(0,O.jsx)(S.fe,{pb:6,children:(0,O.jsxs)(o.Kq,{direction:"column",spacing:"15px",children:[(0,O.jsx)(x.NI,{children:(0,O.jsx)(j.II,{isRequired:!0,name:"oldPassword",onChange:t,placeholder:"Old Password",type:"password",value:f})}),(0,O.jsx)(x.NI,{children:(0,O.jsx)(j.II,{isRequired:!0,name:"newPassword",onChange:t,placeholder:"New Password",type:"password",value:p})})]})}),(0,O.jsxs)(S.mz,{children:[(0,O.jsx)(u.zx,{bg:"white",marginRight:"10px",onClick:m,size:"sm",variant:"solid",width:"50%",children:"Cancel"}),(0,O.jsx)(u.zx,{bg:"primary.800",color:"white",disabled:!n,isLoading:l,mr:3,onClick:i,size:"sm",type:"submit",variant:"solid",width:"50%",children:"Change Password"})]})]})]})]})},L={username:"",first_name:"",last_name:"",password:"",scopes:["privacy-request:read"]},I=h.Ry().shape({username:h.Z_().required().label("Username"),first_name:h.Z_().label("First name"),last_name:h.Z_().label("Last name"),password:h.Z_().required().min(8,"Password must have at least eight characters.").matches(/[0-9]/,"Password must have at least one number.").matches(/[A-Z]/,"Password must have at least one capital letter.").matches(/[a-z]/,"Password must have at least one lowercase letter.").matches(/[\W]/,"Password must have at least one symbol.").label("Password"),scopes:h.IX().of(h.Z_())}),q=function(e){var r=e.onSubmit,n=e.initialValues,i=e.canEditNames,h=e.canChangePassword,v=(0,m.useRouter)(),b=(0,d.HK)().handleError,x=Array.isArray(v.query.id)?v.query.id[0]:v.query.id,j=null==x,y=!j&&!i,w=(0,Z.lD)(),P=(0,s.Z)(w,1)[0],_=function(){var e=(0,a.Z)(c().mark((function e(n){var a,s,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(n);case 2:if(!("error"in(a=e.sent))){e.next=6;break}return b(a.error),e.abrupt("return");case 6:return s=a.data,i={user_id:s.id,scopes:(0,t.Z)(new Set([].concat((0,t.Z)(n.scopes),["privacy-request:read"])))},e.next=10,P(i);case 10:"error"in e.sent||v.push(g.e3);case 12:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),C=h?I:I.omit(["password"]);return(0,O.jsx)(p.J9,{onSubmit:_,initialValues:null!==n&&void 0!==n?n:L,validationSchema:C,children:function(e){var r=e.values,n=e.setFieldValue;return(0,O.jsx)(p.l0,{children:(0,O.jsxs)(o.xu,{maxW:["xs","xs","100%"],width:"100%",children:[(0,O.jsxs)(o.Kq,{mb:8,spacing:6,children:[(0,O.jsxs)(o.Kq,{mb:8,spacing:6,maxWidth:"40%",children:[(0,O.jsx)(k,{name:"username",label:"Username",placeholder:"Enter new username"}),(0,O.jsx)(k,{name:"first_name",label:"First Name",placeholder:"Enter first name of user",disabled:y}),(0,O.jsx)(k,{name:"last_name",label:"Last Name",placeholder:"Enter last name of user",disabled:y}),j?(0,O.jsx)(k,{name:"password",label:"Password",placeholder:"********",type:"password"}):h&&null!=x&&(0,O.jsx)(D,{id:x})]}),(0,O.jsx)(o.iz,{mb:7,mt:7}),(0,O.jsx)(o.X6,{fontSize:"xl",colorScheme:"primary",children:"Privileges"}),(0,O.jsx)(o.xv,{children:"Select privileges to assign to this user"}),(0,O.jsx)(o.iz,{mb:2,mt:2}),(0,O.jsx)(o.Kq,{spacing:[1,5],direction:"column",children:g.GM.map((function(e){var a=r.scopes.indexOf(e.scope)>=0;return(0,O.jsx)(l.XZ,{colorScheme:"purple",onChange:function(){n("scopes",a?r.scopes.filter((function(r){return r!==e.scope})):[].concat((0,t.Z)(r.scopes),[e.scope]))},id:"scopes-".concat(e.privilege),name:"scopes",isChecked:a,value:"privacy-request:read"===e.scope?void 0:e.scope,isDisabled:"privacy-request:read"===e.scope,isReadOnly:"privacy-request:read"===e.scope,children:e.privilege},e.privilege)}))})]}),(0,O.jsx)(f.default,{href:g.e3,passHref:!0,children:(0,O.jsx)(u.zx,{variant:"outline",mr:3,size:"sm",children:"Cancel"})}),(0,O.jsx)(u.zx,{type:"submit",bg:"primary.800",_hover:{bg:"primary.400"},_active:{bg:"primary.500"},colorScheme:"primary",size:"sm",children:"Save"})]})})}})}},33278:function(e,r,n){"use strict";var t=n(1396),a=n(77336),s=n(41664),i=(n(67294),n(13275)),c=n(18459),o=n(69699),l=n(85893);r.Z=function(e){var r=e.title,n=e.children;return(0,l.jsx)(o.Z,{children:(0,l.jsxs)(i.Z,{title:"User Management",children:[(0,l.jsxs)(t.X6,{fontSize:"2xl",fontWeight:"semibold",children:["User Management",(0,l.jsx)(t.xu,{mt:2,mb:7,children:(0,l.jsxs)(a.aG,{fontWeight:"medium",fontSize:"sm",children:[(0,l.jsx)(a.gN,{children:(0,l.jsx)(s.default,{href:c.e3,passHref:!0,children:(0,l.jsx)(a.At,{href:c.e3,children:"User Management"})})}),(0,l.jsx)(a.gN,{children:(0,l.jsx)(a.At,{href:"#",children:r})})]})})]}),n]})})}},27396:function(e,r,n){"use strict";n.d(r,{D4:function(){return a},oK:function(){return s},Bw:function(){return i},hE:function(){return c},Dy:function(){return o},XD:function(){return l},cz:function(){return u}});var t=n(56661),a=function(e){return"error"in e},s=function(e){return(0,t.Ln)({status:"string"},e)&&"PARSING_ERROR"===e.status},i=function(e){return(0,t.Ln)({status:"number",data:{}},e)},c=function(e){return(0,t.Ln)({detail:"string"},e)},o=function(e){return(0,t.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e)},l=function(e){return(0,t.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e)},u=function(e){return(0,t.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},e)}},11163:function(e,r,n){e.exports=n(69898)}}]);