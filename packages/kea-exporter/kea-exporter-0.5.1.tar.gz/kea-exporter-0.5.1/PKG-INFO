Metadata-Version: 2.1
Name: kea-exporter
Version: 0.5.1
Summary: Export Kea Metrics in the Prometheus Exposition Format
License: MIT
Keywords: prometheus,exporter,metrics,kea,dhcp
Author-email: Martin Weinelt <hexa@darmstadt.ccc.de>
Requires-Python: >=3.7,<4.0
Classifier: Development Status :: 5 - Production/Stable
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Topic :: System :: Monitoring
Classifier: Topic :: System :: Systems Administration
Project-URL: changelog, https://github.com/mweinelt/kea-exporter/blob/develop/HISTORY
Project-URL: homepage, https://github.com/mweinelt/kea-exporter
Project-URL: repository, https://github.com/mweinelt/kea-exporter.git
Description-Content-Type: text/x-rst

|license| |version|

.. |license| image:: https://img.shields.io/github/license/mweinelt/kea-exporter
   :alt: GitHub license
   :target: https://github.com/mweinelt/kea-exporter/blob/develop/LICENSE

.. |version| image:: https://img.shields.io/github/v/tag/mweinelt/kea-exporter
   :alt: GitHub tag (latest SemVer)

kea-exporter
============

Prometheus Exporter for the ISC Kea DHCP Server.

From v0.4.0 on Kea >=1.3.0 is required, as the configuration, specifically
subnet information, will be read from the control socket.

Installation
------------

.. image:: https://repology.org/badge/vertical-allrepos/kea-exporter.svg
   :alt: Package versions via repology.org

The latest stable version can always be installed from PyPi:

::

    $ pip install kea-exporter


and upgraded with:

::

    $ pip install --upgrade kea-exporter

Features
--------

- DHCP4 & DHCP6 Metrics (tested against Kea 1.6.0)
- Configuration and statistics via control socket

Currently not working:

- Automatic config reload (through inotify)


Known Limitations
-----------------

The following features are not supported yet, help is welcome.

- HTTP REST API (as a means to query a Kea instance)
- Shared Networks
- Custom Subnet Identifiers

Usage
-----

::

    Usage: kea-exporter [OPTIONS] SOCKETS...

    Options:
      --address TEXT      Specify the address to bind against.
      --port INTEGER      Specify the port on which to listen.
      --interval INTEGER  Specify the metrics update interval in seconds.
      --version           Show the version and exit.
      --help              Show this message and exit.



Configure Control Socket
////////////////////////

The exporter uses Kea's control socket to request both configuration and 
statistics. Consult the documentation on how to set up the control socket:

- https://kea.readthedocs.io/en/latest/arm/dhcp4-srv.html#management-api-for-the-dhcpv4-server
- https://kea.readthedocs.io/en/latest/arm/dhcp6-srv.html#management-api-for-the-dhcpv6-server

Permissions
///////////

Kea Exporter needs to be able to read and write on the socket, hence it's
permissions might need to be modified accordingly.

Grafana-Dashboard
/////////////////

A dashboard for this exporter is available at https://grafana.com/grafana/dashboards/12688.

